"use strict";(self.webpackChunkshoe=self.webpackChunkshoe||[]).push([[520],{5520:(dt,X,u)=>{u.r(X),u.d(X,{ProductsModule:()=>$});var o=u(6895),m=u(9132),t=u(4650);class p{}p.\u0275fac=function(e){return new(e||p)},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-brand"]],decls:0,vars:0,template:function(e,i){},styles:[".mat-form-field[_ngcontent-%COMP%], .example-full-width[_ngcontent-%COMP%]{width:100%}.primary[_ngcontent-%COMP%]{border-radius:50px}"]});var q=u(1344),w=u(2184),P=u(7392),S=u(9101);const et=function(){return[5,25,100]};class U{constructor(e,i){this.router=e,this.categoryService=i,this.introText="Button actions and payloads come here in textual form",this.totalVolume=0,this.totalRides=0,this.data=[],this.footer="",this.columns=[{columnDef:"id",header:"#",cell:n=>`${n.id?n.id:""}`},{columnDef:"name",header:"Name",cell:n=>`${n.name?n.name:""}`},{columnDef:"parent_name",header:"Parent Category",cell:n=>`${n.parent_name?n.parent_name:"-"}`},{columnDef:"order_level",header:"Order Level",cell:n=>`${n.order_level?n.order_level:0}`},{columnDef:"level",header:"Level",cell:n=>`${n.level?n.level:0}`},{columnDef:"banner",header:"Banner",cell:n=>`${n.banner?n.banner:0}`},{columnDef:"featured",header:"Featured",cell:n=>`${!!n.featured&&n.featured}`}],this.buttons=[{styleClass:"btn px-2",icon:"edit",payload:n=>`${n.c_id?n.c_id:""}`,action:"edit"},{styleClass:"btn px-2",icon:"delete",payload:n=>`${n.c_id?n.c_id:""}`,action:"delete"}]}ngOnInit(){this.getCategories()}applyFilter(e){this.totalVolume=0,this.totalRides=0,this.footer=`Total volume: ${this.totalVolume}m\xb3 / trips: ${this.totalRides}`}buttonClick(e){"delete"===e[0]?this.categoryService.delete(e[1]).subscribe(i=>{i&&this.getCategories()}):"edit"===e[0]&&this.router.navigate(["admin/products/category/edit",e[1]])}changeEvent(e){this.categoryService.updateFeature({feature:e[0].checked,id:e[1]}).subscribe(()=>{})}goToRoute(){this.router.navigate(["/admin/products/category/add"])}getCategories(){this.categoryService.get().subscribe(e=>{for(const i of e){let n=e.find(l=>l.c_id===i.parent_id)?.name;i.parent_name=n}this.data=[...e]})}}U.\u0275fac=function(e){return new(e||U)(t.Y36(m.F0),t.Y36(q.H))},U.\u0275cmp=t.Xpm({type:U,selectors:[["app-category"]],decls:10,vars:10,consts:[[1,"d-flex","p-3","justify-content-between","align-items-center"],[1,"p-3"],[1,"fw-bold"],[1,"d-flex","justify-content-end","p-3"],["mat-raised-button","",1,"btn",3,"click"],[3,"columns","buttons","data","filter","filterPlaceholder","footer","pagination","pageSize","tableMinWidth","filteredData","buttonClick","publishChangeEvent"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3,"Categories"),t.qZA()(),t.TgZ(4,"div",3)(5,"button",4),t.NdJ("click",function(){return i.goToRoute()}),t.TgZ(6,"mat-icon"),t._uU(7,"add"),t.qZA(),t._uU(8,"Add Category "),t.qZA()()(),t.TgZ(9,"app-generic-table",5),t.NdJ("filteredData",function(l){return i.applyFilter(l)})("buttonClick",function(l){return i.buttonClick(l)})("publishChangeEvent",function(l){return i.changeEvent(l)}),t.qZA()),2&e&&(t.xp6(9),t.Q6J("columns",i.columns)("buttons",i.buttons)("data",i.data)("filter",!0)("filterPlaceholder","Filter any value")("footer",i.footer)("pagination",t.DdM(9,et))("pageSize",5)("tableMinWidth",400))},dependencies:[w.p,P.Hw,S.lW]});var r=u(4006),v=u(4614);class h{constructor(e){this.baseService=e}addColor(e){return this.baseService.post("colors",e)}getColors(){return this.baseService.get("colors")}getColorById(e){return this.baseService.get(`colors/${e}`)}deleteById(e){return this.baseService.delete(`colors/${e}`)}updateColor(e,i){return this.baseService.put(`colors/${e}`,i)}}function it(a,e){1&a&&(t.TgZ(0,"div"),t._uU(1," Name is required. "),t.qZA())}function nt(a,e){if(1&a&&(t.TgZ(0,"div",10),t.YNc(1,it,2,0,"div",11),t.qZA()),2&a){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.f.name.errors&&i.f.name.errors.required)}}function ot(a,e){1&a&&(t.TgZ(0,"div"),t._uU(1," Value is required. "),t.qZA())}function at(a,e){1&a&&(t.TgZ(0,"div"),t._uU(1," Invalid code "),t.qZA())}function rt(a,e){if(1&a&&(t.TgZ(0,"div",10),t.YNc(1,ot,2,0,"div",11),t.YNc(2,at,2,0,"div",11),t.qZA()),2&a){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.f.value.errors&&i.f.value.errors.required),t.xp6(1),t.Q6J("ngIf",i.f.value.errors&&i.f.value.errors.pattern)}}h.\u0275fac=function(e){return new(e||h)(t.LFG(v.b))},h.\u0275prov=t.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"});class y{constructor(e,i,n){this.router=e,this.colorsService=i,this.activatedRoute=n,this.colorId="",this.formType="Add",this.myForm=new r.cw({name:new r.NI("",r.kI.required),value:new r.NI("",[r.kI.required,r.kI.pattern("^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$")])}),this.colorId=this.activatedRoute.snapshot.paramMap.get("id")}ngOnInit(){this.colorId&&(this.formType="Edit",this.colorsService.getColorById(this.colorId).subscribe(e=>{this.myForm.patchValue(e)}))}get f(){return this.myForm.controls}submit(){this.myForm.valid&&!this.colorId?this.colorsService.addColor(this.myForm.value).subscribe(e=>{e&&this.router.navigate(["/admin/products/color-list"])}):this.colorId&&this.colorsService.updateColor(this.colorId,this.myForm.value).subscribe(e=>{e&&this.router.navigate(["/admin/products/color-list"])})}}y.\u0275fac=function(e){return new(e||y)(t.Y36(m.F0),t.Y36(h),t.Y36(m.gz))},y.\u0275cmp=t.Xpm({type:y,selectors:[["app-color"]],decls:17,vars:4,consts:[[1,"div","container-fluid","p-3"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["formControlName","name","id","name","type","text","placeholder","Name",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","value"],["formControlName","value","id","name","type","text","placeholder","Value",1,"form-control"],[1,"d-flex","mt-3","justify-content-center"],["type","submit",1,"btn","btn-primary","w-100"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"form",1),t.NdJ("ngSubmit",function(){return i.submit()}),t.TgZ(4,"div",2)(5,"label",3),t._uU(6,"Name"),t.qZA(),t._UZ(7,"input",4),t.YNc(8,nt,2,1,"div",5),t.qZA(),t.TgZ(9,"div",2)(10,"label",6),t._uU(11,"Value"),t.qZA(),t._UZ(12,"input",7),t.YNc(13,rt,3,2,"div",5),t.qZA(),t.TgZ(14,"div",8)(15,"button",9),t._uU(16,"Submit"),t.qZA()()()()),2&e&&(t.xp6(2),t.hij("",i.formType," Color"),t.xp6(1),t.Q6J("formGroup",i.myForm),t.xp6(5),t.Q6J("ngIf",i.f.name.touched&&i.f.name.invalid),t.xp6(5),t.Q6J("ngIf",i.f.value.touched&&i.f.value.invalid))},dependencies:[o.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:[".mat-form-field[_ngcontent-%COMP%], .example-full-width[_ngcontent-%COMP%]{width:100%}.primary[_ngcontent-%COMP%]{border-radius:50px}"]});class F{}F.\u0275fac=function(e){return new(e||F)},F.\u0275cmp=t.Xpm({type:F,selectors:[["app-description"]],decls:0,vars:0,template:function(e,i){},styles:[".mat-form-field[_ngcontent-%COMP%], .example-full-width[_ngcontent-%COMP%]{width:100%}.primary[_ngcontent-%COMP%]{border-radius:50px}"]});class N{}N.\u0275fac=function(e){return new(e||N)},N.\u0275cmp=t.Xpm({type:N,selectors:[["app-discount"]],decls:0,vars:0,template:function(e,i){},styles:[".mat-form-field[_ngcontent-%COMP%], .example-full-width[_ngcontent-%COMP%]{width:100%}.primary[_ngcontent-%COMP%]{border-radius:50px}"]});class L{static numeric(e){let i=e.value;return i&&null===i||""===i||i?.toString().match(/^[0-9]+(\.?[0-9]+)?$/)?null:{invalidNumber:!0}}}class f{constructor(e){this.baseService=e}addProduct(e){return this.baseService.post("products",e)}editProduct(e){return this.baseService.put("products",e)}getProducts(){return this.baseService.get("products")}getProductById(e){return this.baseService.get(`products/all/${e}`)}deleteById(e){return this.baseService.delete(`products/${e}`)}publishProduct(e){return this.baseService.post("products/publish",e)}featureProduct(e){return this.baseService.post("products/feature",e)}bestSellerProduct(e){return this.baseService.post("products/best-seller",e)}}f.\u0275fac=function(e){return new(e||f)(t.LFG(v.b))},f.\u0275prov=t.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"});class b{constructor(e){this.baseService=e}add(e){return this.baseService.post("attribute-value",e)}update(e){return this.baseService.put("attribute-value",e)}get(){return this.baseService.get("attribute-value")}getByAttributeId(e){return this.baseService.get(`attribute-value/attribute/${e}`)}getById(e){return this.baseService.get(`attribute-value/${e}`)}delete(e){return this.baseService.delete(`attribute-value/${e}`)}}b.\u0275fac=function(e){return new(e||b)(t.LFG(v.b))},b.\u0275prov=t.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"});var E=u(7238);class C{constructor(e){this.baseService=e}removeImage(e){return this.baseService.post(`products/image/${e}`)}get(){return this.baseService.get("categories")}}C.\u0275fac=function(e){return new(e||C)(t.LFG(v.b))},C.\u0275prov=t.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"});class Z{constructor(e){this.baseService=e}upsert(e){return this.baseService.post("quantity/attribute",e)}getByIds(e,i,n){return this.baseService.get(`quantity/attribute/${i}/${e}/${n}`)}}Z.\u0275fac=function(e){return new(e||Z)(t.LFG(v.b))},Z.\u0275prov=t.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"});var V=u(7375);const M=["file_list"];function c(a,e){1&a&&(t.TgZ(0,"div"),t._uU(1," Name is required. "),t.qZA())}function d(a,e){1&a&&(t.TgZ(0,"div"),t._uU(1," Name should be 3 character. "),t.qZA())}function s(a,e){if(1&a&&(t.TgZ(0,"div",61),t.YNc(1,c,2,0,"div",62),t.YNc(2,d,2,0,"div",62),t.qZA()),2&a){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.f.name.errors&&i.f.name.errors.required),t.xp6(1),t.Q6J("ngIf",i.f.name.errors&&i.f.name.errors.minlength)}}function g(a,e){1&a&&(t.TgZ(0,"div"),t._uU(1," Minimum Quantity is required. "),t.qZA())}function O(a,e){1&a&&(t.TgZ(0,"div"),t._uU(1," Only Numbers Allowed "),t.qZA())}function T(a,e){if(1&a&&(t.TgZ(0,"div",61),t.YNc(1,g,2,0,"div",62),t.YNc(2,O,2,0,"div",62),t.qZA()),2&a){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.f.min_qty.errors&&i.f.min_qty.errors.required),t.xp6(1),t.Q6J("ngIf",i.f.min_qty.errors&&i.f.min_qty.errors.invalidNumber)}}function x(a,e){1&a&&(t.TgZ(0,"div"),t._uU(1," Maximum Quantity is required. "),t.qZA())}function D(a,e){1&a&&(t.TgZ(0,"div"),t._uU(1," Only Numbers Allowed "),t.qZA())}function lt(a,e){if(1&a&&(t.TgZ(0,"div",61),t.YNc(1,x,2,0,"div",62),t.YNc(2,D,2,0,"div",62),t.qZA()),2&a){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.f.max_qty.errors&&i.f.max_qty.errors.required),t.xp6(1),t.Q6J("ngIf",i.f.max_qty.errors&&i.f.max_qty.errors.invalidNumber)}}function st(a,e){1&a&&(t.TgZ(0,"div"),t._uU(1," File is required. "),t.qZA())}function mt(a,e){if(1&a&&(t.TgZ(0,"div",61),t.YNc(1,st,2,0,"div",62),t.qZA()),2&a){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.f.thumbnail_image.errors&&i.f.thumbnail_image.errors.required)}}function pt(a,e){if(1&a){const i=t.EpF();t.TgZ(0,"div",63)(1,"div",64)(2,"span",65),t.NdJ("click",function(){t.CHM(i);const l=t.oxw();return t.KtG(l.removeImage("thumbnail",l.thumbnailImage.id))}),t._uU(3,"\xd7"),t.qZA(),t._UZ(4,"img",66),t.qZA()()}if(2&a){const i=t.oxw();t.xp6(4),t.Q6J("src",i.thumbnailImage.path,t.LSH)}}function gt(a,e){1&a&&(t.TgZ(0,"div"),t._uU(1," File is required. "),t.qZA())}function _t(a,e){if(1&a&&(t.TgZ(0,"div",61),t.YNc(1,gt,2,0,"div",62),t.qZA()),2&a){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.f.gallery_images.errors&&i.f.gallery_images.errors.required)}}function ht(a,e){if(1&a){const i=t.EpF();t.TgZ(0,"div",63)(1,"div",64)(2,"span",65),t.NdJ("click",function(){const l=t.CHM(i),_=l.$implicit,I=l.index,ct=t.oxw();return t.KtG(ct.removeImage("gallery",_.id,I))}),t._uU(3,"\xd7"),t.qZA(),t._UZ(4,"img",66),t.qZA()()}if(2&a){const i=e.$implicit;t.xp6(4),t.Q6J("src",i.path,t.LSH)}}function ft(a,e){if(1&a&&(t.TgZ(0,"option",67),t._uU(1),t.qZA()),2&a){const i=e.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.name," ")}}function bt(a,e){if(1&a&&(t.TgZ(0,"option",68),t._uU(1),t.qZA()),2&a){const i=e.$implicit;t.Q6J("value",i.c_id),t.xp6(1),t.hij(" ",i.name," ")}}function vt(a,e){1&a&&(t.TgZ(0,"div"),t._uU(1," Category is required. "),t.qZA())}function yt(a,e){if(1&a&&(t.TgZ(0,"div",61),t.YNc(1,vt,2,0,"div",62),t.qZA()),2&a){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.f.category_id.errors&&i.f.category_id.errors.required)}}function Ct(a,e){if(1&a&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&a){const i=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",i.name," is required. ")}}function Zt(a,e){if(1&a&&(t.TgZ(0,"div",61),t.YNc(1,Ct,2,1,"div",62),t.qZA()),2&a){const i=t.oxw().$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.f[i.name]&&null!==(null==n.f[i.name]?null:n.f[i.name].errors)&&n.f[i.name].errors)}}function Tt(a,e){if(1&a&&(t.TgZ(0,"div",5)(1,"label",69),t._uU(2),t.qZA(),t._UZ(3,"input",70),t.YNc(4,Zt,2,1,"div",9),t.qZA()),2&a){const i=e.$implicit,n=e.index,l=t.oxw();t.xp6(1),t.hYB("for","",i.name,"_",n,""),t.xp6(1),t.hij("Quantity For (",i.name,")"),t.xp6(1),t.hYB("id","",i.name,"_",n,""),t.Q6J("formControlName",i.name),t.xp6(1),t.Q6J("ngIf",l.f[i.name].touched&&l.f[i.name].invalid)}}function xt(a,e){if(1&a){const i=t.EpF();t.TgZ(0,"div",63)(1,"div",64)(2,"span",65),t.NdJ("click",function(){t.CHM(i);const l=t.oxw();return t.KtG(l.removeImage("meta",l.metaImage.id))}),t._uU(3,"\xd7"),t.qZA(),t._UZ(4,"img",66),t.qZA()()}if(2&a){const i=t.oxw();t.xp6(4),t.Q6J("src",i.metaImage.path,t.LSH)}}class J{constructor(e,i,n,l,_,I,ct,Et,Vt,Rt){this.activatedRoute=e,this.productsService=i,this.categoryService=n,this.router=l,this.attributeValueService=_,this.calendar=I,this.formatter=ct,this.productImageService=Et,this.colorsService=Vt,this.productAttributeQuantity=Rt,this.object=Object,this.attrubutesRequestObject=[],this.date=new Date,this.min=`${this.date.getFullYear()}-${this.date.getMonth(),this.date.getMonth()+1}-${this.date.getDate()}`,this.disabledMetaImageField=!1,this.disabledThumbnailImageField=!1,this.htmlContent1="",this.htmlContent2="",this.editorConfig={editable:!0,spellcheck:!0,height:"auto",minHeight:"0",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}],uploadUrl:"v1/image",uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",toolbarHiddenButtons:[["bold","italic"],["fontSize"]]},this.hoveredDate=null,this.tempImageStorage=[],this.formType="",this.attributes=[],this.colors=[],this.toDate=null,this.categories=[],this.imageType=void 0,this.galleryImages=[],this.metaImage={},this.thumbnailImage={},this.myForm=new r.nJ({name:new r.p4("",[r.kI.required,r.kI.minLength(3)]),unit:new r.p4(0,[r.kI.required,L.numeric]),min_qty:new r.p4("",[r.kI.required,L.numeric]),max_qty:new r.p4("",[r.kI.required,L.numeric]),thumbnail_image:new r.p4(""),thumbnail:new r.p4(""),color_id:new r.p4(0),gallery_images:new r.p4(""),description:new r.p4(""),galleries:new r.p4([]),id:new r.p4,sku:new r.p4(""),highest_price:new r.p4(0,[r.kI.required]),stock:new r.p4(!0),discount:new r.p4(0),discount_type:new r.p4(""),discount_end_date:new r.p4(""),discount_start_date:new r.p4(""),standary_delivery:new r.p4(0),e_delivery:new r.p4(0),slug:new r.p4(""),meta_image:new r.p4(""),meta:new r.p4(""),published:new r.p4(""),category_id:new r.p4("",r.kI.required),meta_description:new r.p4(""),meta_title:new r.p4(""),weight:new r.p4(0),height:new r.p4(0),length:new r.p4(0),width:new r.p4(0),start:new r.p4(null),end:new r.p4(null),user_id:new r.p4("")}),this.categoryService.get().subscribe(ut=>{ut.length&&(this.categories=ut,this.getColors())}),this.productId=this.activatedRoute.snapshot.paramMap.get("id"),this.productId?(this.formType="Edit",this.getProductById(this.productId)):this.formType="Add"}get f(){return this.myForm.controls}ngOnInit(){}ngAfterViewInit(){}galleryImageChange(e,i){this.imageType=i;for(const n of e.target.files)this.handleInputChange(n)}getColors(){this.colorsService.getColors().subscribe(e=>{this.colors=e})}thumbnailImageChange(e,i){this.imageType=i;for(const n of e.target.files)this.handleInputChange(n)}metaImageChange(e,i){this.imageType=i;for(const n of e.target.files)this.handleInputChange(n)}submit(){if(this.f.thumbnail_image.setValue(Object.keys(this.thumbnailImage)?1:0),this.f.thumbnail.setValue(this.thumbnailImage.id?"":this.thumbnailImage),this.f.meta.setValue(this.metaImage.id?"":this.metaImage),this.f.meta_image.setValue(Object.keys(this.metaImage)?1:0),this.f.user_id.setValue(676),console.log(this.myForm.value,this.myForm.valid),this.myForm.valid&&"add"===this.formType.toLowerCase()){this.f.gallery_images.setValue(this.galleryImages.length?this.galleryImages.length:0),this.f.galleries.setValue(this.galleryImages);const e=this.removeControlsForAttribute(this.myForm.value);this.productsService.addProduct(e).subscribe(i=>{if(i){for(const n of this.attrubutesRequestObject)n.product_id=i.product.identifiers[0].id;this.productAttributeQuantity.upsert(this.attrubutesRequestObject).subscribe(),this.router.navigate(["admin/products"])}})}else if(this.myForm.valid&&"edit"===this.formType.toLowerCase()){if(this.productId){for(let i=0;i<this.galleryImages.length;i++)this.galleryImages[i].id&&(this.galleryImages.splice(i,1),i--);this.f.id.setValue(parseInt(this.productId)),this.f.gallery_images.setValue(this.galleryImages.length?this.galleryImages.length:0),this.f.galleries.setValue(this.galleryImages);const e=this.removeControlsForAttribute(this.myForm.value);this.productsService.editProduct(e).subscribe(i=>{i&&(this.galleryImages=[],this.thumbnailImage={},this.metaImage={},this.myForm.reset(),this.getProductById(this.productId))}),this.productAttributeQuantity.upsert(this.attrubutesRequestObject).subscribe(),this.router.navigate(["admin/products"])}}else this.myForm.markAllAsTouched()}handleInputChange(e){const i=e,n=new FileReader;n.onload=this._handleReaderLoaded.bind(this),n.readAsDataURL(i)}_handleReaderLoaded(e){let i=e.target;"gallery"===this.imageType?this.galleryImages.push({path:i.result}):"thumbnail"===this.imageType?this.thumbnailImage={path:i.result}:"meta"===this.imageType&&(this.metaImage={path:i.result})}removeImage(e,i,n){if(i&&this.productImageService.removeImage(i).subscribe(()=>{}),"gallery"===e?.toLowerCase()&&-1!==n){if(1===this.galleryImages.length||0===this.galleryImages.length)return void(this.galleryImages=[]);this.galleryImages.splice(n,1),this.galleryImages=[...this.galleryImages],Array.from(this.file_list.nativeElement.files).splice(n,1)}else"thumbnail"===e.toLowerCase()?(this.thumbnailImage={},document.getElementById("thumbnail_file").value="",this.disabledThumbnailImageField=!1):"meta"===e.toLowerCase()&&(document.getElementById("meta_file").value="",this.disabledMetaImageField=!1,this.metaImage={})}serFormValue(e){try{console.log(e);const i={discount:e.discount,discount_type:e.discount_type,express_delivery_time:e.e_delivery,height:e.height,width:e.width,length:e.length,highest_price:e.highest_price,max_qty:e.max_qty,min_qty:e.min_qty,meta_image:e.meta_image,meta_title:e.meta_title,standard_delivery_time:e.standary_delivery,name:e.name,unit:e.unit,weight:e.weight,stock:e.stock,slug:e.slug,photos:e.gallery_images,thumbnail_image:e.thumbnail_image,meta_description:e.meta_description,lowest_price:e.lowest_price,description:e.description,published:!0===e.published?"true":"false",category_id:parseInt(e.category_id),is_variant:!1,has_warranty:!1,color_id:e.color_id?parseInt(e.color_id):0,discount_end_date:e.discount_end_date,discount_start_date:e.discount_start_date,rating:0};this.myForm.patchValue(i),this.getByAttributeId(e)}catch(i){console.log(i)}}onChange(e){}onBlur(e){}categoryChange(e){for(const i of this.categories)Number(e.target.value)===Number(i.c_id)&&i.attribute_id&&this.attributeValueService.getByAttributeId(i.attribute_id).subscribe(n=>{if(n.length){for(const l of n)this.myForm.addControl(l.name,new r.NI("",[r.kI.required]));this.attributes=[...n]}})}getProductAttributeQuantity(e,i,n){return this.productAttributeQuantity.getByIds(e,i,n)}getByAttributeId(e){for(const i of this.categories)Number(e.category_id)===Number(i.c_id)&&i.attribute_id&&this.attributeValueService.getByAttributeId(i.attribute_id).subscribe(n=>{n.length&&this.productId&&this.getProductAttributeQuantity(i.attribute_id,e.category_id,Number(this.productId)).subscribe(l=>{for(const _ of n){this.myForm.addControl(_.name,new r.NI("",[r.kI.required]));for(const I of l)I.attribute_value_id===_.id&&this.myForm.controls[_.name].setValue(I.qty)}this.attributes=[...n]})})}getProductById(e){this.productsService.getProductById(e).subscribe(i=>{if(i){this.serFormValue(i.products),this.tempImageStorage=i.images;for(const n of i.images)"gallery"===n.name?this.galleryImages.push(n):"meta"===n.name?(this.disabledMetaImageField=!0,this.metaImage=n):"thumbnail"===n.name&&(this.disabledThumbnailImageField=!0,this.thumbnailImage=n)}})}removeControlsForAttribute(e){this.attrubutesRequestObject=[];for(const i of this.attributes)for(const n in e)i.name===n&&(this.attrubutesRequestObject.push({attribute_id:i.attribute_id,product_id:this.productId,qty:e[n],category_id:e.category_id,attribute_value_id:i.id}),delete e[n]);return e}}J.\u0275fac=function(e){return new(e||J)(t.Y36(m.gz),t.Y36(f),t.Y36(q.H),t.Y36(m.F0),t.Y36(b),t.Y36(E.vL),t.Y36(E.NG),t.Y36(C),t.Y36(h),t.Y36(Z))},J.\u0275cmp=t.Xpm({type:J,selectors:[["app-product"]],viewQuery:function(e,i){if(1&e&&t.Gf(M,5),2&e){let n;t.iGM(n=t.CRH())&&(i.file_list=n.first)}},decls:212,vars:20,consts:[[1,"div","container-fluid","p-3"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-8","p-4","border"],[1,"product_info"],[1,"form-group"],["for","name"],[1,"required","warn","danger"],["formControlName","name","id","name","type","text","placeholder","Product Name",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["formControlName","unit","id","name","type","number","placeholder","Unit 2Pc",1,"form-control"],[1,"required","danger"],["formControlName","min_qty","id","name","type","number","placeholder","1",1,"form-control"],["formControlName","max_qty","id","name","type","number",1,"form-control"],[1,"col-4","p-4","border"],[1,"product_images"],["formControlName","published",1,"form-select"],["value","true","selected",""],["value","false"],[1,"col-8","border","p-4"],["id","thumbnail_file","type","file",1,"form-control",3,"disabled","change"],[1,"bb"],["class","box",4,"ngIf"],["id","gallery_file","type","file","multiple","",1,"form-control",3,"change"],["file_list",""],["class","box",4,"ngFor","ngForOf"],[1,"col-4","border","p-4"],[1,"custom-select"],["formControlName","color_id",1,"form-select"],["selected",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","description",3,"ngModel","config","ngModelChange","blur"],[1,"required"],["formControlName","highest_price","id","name","type","number","placeholder","200",1,"form-control"],["formControlName","sku","id","name","type","text","placeholder","SKU",1,"form-control"],["formControlName","stock",1,"form-select"],["formControlName","category_id",1,"form-select",3,"change"],["value","0","selected",""],["id","",3,"value",4,"ngFor","ngForOf"],["class","form-group",4,"ngFor","ngForOf"],[1,"col-6"],["formControlName","discount_start_date","type","date","id","startDate","name","stertDate",1,"form-control",3,"min"],["formControlName","discount_end_date","type","date","id","endDate","name","endDate",1,"form-control",3,"min"],[1,"col-8"],["formControlName","discount","id","name","type","number","placeholder","0",1,"form-control"],[1,"col-4"],["formControlName","discount_type",1,"form-select"],["value","flat","selected",""],["value","percent"],["formControlName","standary_delivery","id","name","type","number","placeholder","0",1,"form-control"],["formControlName","e_delivery","id","name","type","number","placeholder","0",1,"form-control"],["formControlName","weight","id","name","type","number","placeholder","0",1,"form-control"],["formControlName","height","id","name","type","number","placeholder","0",1,"form-control"],["formControlName","length","id","name","type","text","placeholder","0",1,"form-control"],["formControlName","width","id","name","type","number","placeholder","0",1,"form-control"],["formControlName","meta_title","id","name","type","text",1,"form-control"],["rows","4","cols","50","formControlName","meta_description","id","name","type","text",1,"form-control"],["id","meta_file","type","file",1,"form-control",3,"disabled","change"],["formControlName","slug","id","name","type","text",1,"form-control"],[1,"d-flex","mt-3","justify-content-center"],["type","submit",1,"btn","btn-primary","w-100"],[1,"alert","alert-danger"],[4,"ngIf"],[1,"box"],[1,"image"],[3,"click"],["alt","fll;",3,"src"],[3,"value"],["id","",3,"value"],[3,"for"],["type","text",1,"form-control",3,"formControlName","id"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"form",1),t.NdJ("ngSubmit",function(){return i.submit()}),t.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"h2"),t._uU(8,"Product Information"),t.qZA()(),t.TgZ(9,"div",5)(10,"label",6),t._uU(11,"Product Name "),t.TgZ(12,"span",7),t._uU(13,"*"),t.qZA()(),t._UZ(14,"input",8),t.YNc(15,s,3,2,"div",9),t.qZA(),t.TgZ(16,"div",5)(17,"label",6),t._uU(18,"Unit"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.TgZ(20,"div",5)(21,"label",6),t._uU(22,"Minimum Purchase Quantity "),t.TgZ(23,"span",11),t._uU(24,"*"),t.qZA()(),t._UZ(25,"input",12),t.YNc(26,T,3,2,"div",9),t.qZA(),t.TgZ(27,"div",5)(28,"label",6),t._uU(29,"Maximum Purchase Quantity "),t.TgZ(30,"span",11),t._uU(31,"*"),t.qZA()(),t._UZ(32,"input",13),t.YNc(33,lt,3,2,"div",9),t.qZA()(),t.TgZ(34,"div",14)(35,"div",15)(36,"h2"),t._uU(37,"Product Status"),t.qZA()(),t.TgZ(38,"div",5)(39,"label",6),t._uU(40,"Status"),t.qZA(),t.TgZ(41,"select",16)(42,"option",17),t._uU(43,"Published"),t.qZA(),t.TgZ(44,"option",18),t._uU(45,"Draft"),t.qZA()()()()(),t.TgZ(46,"div",2)(47,"div",19)(48,"div",15)(49,"h2"),t._uU(50,"Product Images"),t.qZA()(),t.TgZ(51,"div",5)(52,"label",6),t._uU(53,"Thumbnail Image "),t.qZA(),t.TgZ(54,"input",20),t.NdJ("change",function(l){return i.thumbnailImageChange(l,"thumbnail")}),t.qZA(),t.YNc(55,mt,2,1,"div",9),t._UZ(56,"br"),t.TgZ(57,"div",21),t.YNc(58,pt,5,1,"div",22),t.qZA()(),t.TgZ(59,"div",5)(60,"label",6),t._uU(61,"Gallery Images "),t.qZA(),t.TgZ(62,"input",23,24),t.NdJ("change",function(l){return i.galleryImageChange(l,"gallery")}),t.qZA(),t.YNc(64,_t,2,1,"div",9),t._UZ(65,"br"),t.TgZ(66,"div",21),t.YNc(67,ht,5,1,"div",25),t.qZA()()(),t.TgZ(68,"div",26)(69,"div",15)(70,"h2"),t._uU(71,"Product Color"),t.qZA()(),t.TgZ(72,"div",5)(73,"label",6),t._uU(74,"Color"),t.qZA(),t.TgZ(75,"div",27)(76,"select",28)(77,"option",29),t._uU(78,"Select"),t.qZA(),t.YNc(79,ft,2,2,"option",30),t.qZA()()()()(),t.TgZ(80,"div",2)(81,"div",19)(82,"div",15)(83,"h2"),t._uU(84,"Product Description"),t.qZA()(),t.TgZ(85,"angular-editor",31),t.NdJ("ngModelChange",function(l){return i.htmlContent1=l})("ngModelChange",function(l){return i.onChange(l)})("blur",function(l){return i.onBlur(l)}),t.qZA()(),t._UZ(86,"div",26),t.qZA(),t.TgZ(87,"div",2)(88,"div",19)(89,"div",15)(90,"h2"),t._uU(91,"Price & Stock"),t.qZA()(),t.TgZ(92,"div",5)(93,"label",6),t._uU(94,"Price "),t.TgZ(95,"span",32),t._uU(96,"*"),t.qZA()(),t._UZ(97,"input",33),t.qZA(),t.TgZ(98,"div",5)(99,"label",6),t._uU(100,"SKU"),t.qZA(),t._UZ(101,"input",34),t.qZA(),t.TgZ(102,"div",5)(103,"label",6),t._uU(104,"Stock "),t.TgZ(105,"span",32),t._uU(106,"*"),t.qZA()(),t.TgZ(107,"select",35)(108,"option",17),t._uU(109,"In Stock"),t.qZA(),t.TgZ(110,"option",18),t._uU(111,"Out Of Stock"),t.qZA()()()(),t.TgZ(112,"div",26)(113,"div",15)(114,"h2"),t._uU(115,"Product Category"),t.qZA()(),t.TgZ(116,"div",5)(117,"label",6),t._uU(118,"Category"),t.qZA(),t.TgZ(119,"select",36),t.NdJ("change",function(l){return i.categoryChange(l)}),t.TgZ(120,"option",37),t._uU(121,"Select"),t.qZA(),t.YNc(122,bt,2,2,"option",38),t.qZA(),t.YNc(123,yt,2,1,"div",9),t.qZA(),t.YNc(124,Tt,5,7,"div",39),t.qZA()(),t.TgZ(125,"div",2)(126,"div",19)(127,"div",15)(128,"h2"),t._uU(129,"Product Discount"),t.qZA()(),t.TgZ(130,"div",2)(131,"div",40)(132,"label"),t._uU(133,"Start Date"),t.qZA(),t.TgZ(134,"div",5),t._UZ(135,"input",41),t.qZA()(),t.TgZ(136,"div",40)(137,"label"),t._uU(138,"End Date"),t.qZA(),t.TgZ(139,"div",5),t._UZ(140,"input",42),t.qZA()()(),t.TgZ(141,"div",2)(142,"div",43)(143,"div",5)(144,"label",6),t._uU(145,"Discount"),t.qZA(),t._UZ(146,"input",44),t.qZA()(),t.TgZ(147,"div",45)(148,"div",5),t._UZ(149,"label",6),t.TgZ(150,"select",46)(151,"option",47),t._uU(152,"Flat"),t.qZA(),t.TgZ(153,"option",48),t._uU(154,"Percent"),t.qZA()()()()()(),t._UZ(155,"div",26),t.qZA(),t.TgZ(156,"div",2)(157,"div",19)(158,"div",15)(159,"h2"),t._uU(160,"Shipping Information"),t.qZA()(),t.TgZ(161,"div",5)(162,"label",6),t._uU(163,"Standard Delivery Time (hrs)"),t.qZA(),t._UZ(164,"input",49),t.qZA(),t.TgZ(165,"div",5)(166,"label",6),t._uU(167,"Express Delivery Time (hrs)"),t.qZA(),t._UZ(168,"input",50),t.qZA(),t.TgZ(169,"div",5)(170,"label",6),t._uU(171,"Weight (gm)"),t.qZA(),t._UZ(172,"input",51),t.qZA(),t.TgZ(173,"div",5)(174,"label",6),t._uU(175,"Height (cm)"),t.qZA(),t._UZ(176,"input",52),t.qZA(),t.TgZ(177,"div",5)(178,"label",6),t._uU(179,"Length (cm)"),t.qZA(),t._UZ(180,"input",53),t.qZA(),t.TgZ(181,"div",5)(182,"label",6),t._uU(183,"Width (cm)"),t.qZA(),t._UZ(184,"input",54),t.qZA()(),t._UZ(185,"div",26),t.qZA(),t.TgZ(186,"div",2)(187,"div",19)(188,"div",15)(189,"h2"),t._uU(190,"Seo Meta Tags"),t.qZA()(),t.TgZ(191,"div",5)(192,"label",6),t._uU(193,"Meta Title"),t.qZA(),t._UZ(194,"input",55),t.qZA(),t.TgZ(195,"div",5)(196,"label",6),t._uU(197,"Meta Description"),t.qZA(),t._UZ(198,"textarea",56),t.qZA(),t.TgZ(199,"div",5)(200,"label",6),t._uU(201,"Meta Image"),t.qZA(),t.TgZ(202,"input",57),t.NdJ("change",function(l){return i.metaImageChange(l,"meta")}),t.qZA(),t.TgZ(203,"div",21),t.YNc(204,xt,5,1,"div",22),t.qZA()(),t.TgZ(205,"div",5)(206,"label",6),t._uU(207,"Slug"),t.qZA(),t._UZ(208,"input",58),t.qZA()()(),t.TgZ(209,"div",59)(210,"button",60),t._uU(211,"Submit"),t.qZA()()()()),2&e&&(t.xp6(2),t.hij("",i.formType," Product"),t.xp6(1),t.Q6J("formGroup",i.myForm),t.xp6(12),t.Q6J("ngIf",i.f.name.touched&&i.f.name.invalid),t.xp6(11),t.Q6J("ngIf",i.f.min_qty.touched&&i.f.min_qty.invalid),t.xp6(7),t.Q6J("ngIf",i.f.max_qty.touched&&i.f.max_qty.invalid),t.xp6(21),t.Q6J("disabled",i.disabledThumbnailImageField),t.xp6(1),t.Q6J("ngIf",i.f.thumbnail_image.touched&&i.f.thumbnail_image.invalid),t.xp6(3),t.Q6J("ngIf",i.thumbnailImage.path),t.xp6(6),t.Q6J("ngIf",i.f.gallery_images.touched&&i.f.gallery_images.invalid),t.xp6(3),t.Q6J("ngForOf",i.galleryImages),t.xp6(12),t.Q6J("ngForOf",i.colors),t.xp6(6),t.Q6J("ngModel",i.htmlContent1)("config",i.editorConfig),t.xp6(37),t.Q6J("ngForOf",i.categories),t.xp6(1),t.Q6J("ngIf",i.f.category_id.touched&&i.f.category_id.invalid),t.xp6(1),t.Q6J("ngForOf",i.attributes),t.xp6(11),t.Q6J("min",i.min),t.xp6(5),t.Q6J("min",i.min),t.xp6(62),t.Q6J("disabled",i.disabledMetaImageField),t.xp6(2),t.Q6J("ngIf",i.metaImage.path))},dependencies:[o.sg,o.O5,r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r.JJ,r.JL,V.s6,r.sg,r.u],styles:[".mat-form-field[_ngcontent-%COMP%]{width:100%}.primary[_ngcontent-%COMP%]{border-radius:50px}.file-input[_ngcontent-%COMP%]{display:none}.image-fit[_ngcontent-%COMP%]{max-height:100%;width:100%;object-fit:cover}.thumb[_ngcontent-%COMP%]{height:52px}.image[_ngcontent-%COMP%]{margin-right:15px;height:75px;position:relative;margin-bottom:8px}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:5px;object-fit:cover}.box[_ngcontent-%COMP%]{width:100%;height:auto;display:flex;justify-content:flex-start;align-items:flex-start;flex-wrap:wrap;max-height:200px;overflow-y:auto;margin-top:10px}.box[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:-2px;right:9px;font-size:20px;cursor:pointer}.bb[_ngcontent-%COMP%]{display:flex;height:auto;padding:10px;border-radius:5px;overflow:hidden;object-fit:cover}  .custom-day{text-align:center;padding:.185rem .25rem;display:inline-block;height:2rem;width:2rem}  .custom-day .range, .custom-day[_ngcontent-%COMP%]:hover{background-color:#0275d8;color:#fff}mat-icon[_ngcontent-%COMP%]{margin-right:0!important;vertical-align:middle}"]});var tt=u(3848);function At(a,e){if(1&a&&(t.TgZ(0,"a",3,4),t._uU(2),t.qZA()),2&a){const i=e.$implicit,n=t.oxw();t.Q6J("routerLink",i.link)("active",n.activeLinkIndex===i.index),t.xp6(2),t.hij(" ",i.label,"")}}class R{constructor(e,i){this.router=e,this.activatedroute=i,this.navLinks=[],this.activeLinkIndex=-1,this.navLinks=[{label:"Products",link:"./list",activeClass:["./list","category/add","category/edit"],index:0},{label:"Categories",link:"./category",activeClass:["./category","category/edit","category/add"],index:1},{label:"Attributes",link:"./attributes-list",activeClass:["./attributes-list","attributes/add","attributes/edit"],index:2},{label:"Colors",link:"./color-list",activeClass:["./color-list","color/add"],index:3}],this.activatedroute.url.subscribe(n=>{const l=this.navLinks.find(_=>{for(const I of _.activeClass)return void I.split(".")});l&&(this.activeLinkIndex=this.navLinks.indexOf(l))})}ngOnInit(){this.router.events.subscribe(e=>{if(e){const i=this.navLinks.find(n=>`/admin/products${n.link.split(".")[1]}`===this.router.url);this.activeLinkIndex=i?this.navLinks.indexOf(i):0}})}}R.\u0275fac=function(e){return new(e||R)(t.Y36(m.F0),t.Y36(m.gz))},R.\u0275cmp=t.Xpm({type:R,selectors:[["app-products"]],decls:6,vars:2,consts:[["mat-tab-nav-bar","",3,"tabPanel"],["mat-tab-link","","routerLinkActive","",3,"routerLink","active",4,"ngFor","ngForOf"],["tabPanel",""],["mat-tab-link","","routerLinkActive","",3,"routerLink","active"],["rla","routerLinkActive"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div")(1,"nav",0),t.YNc(2,At,3,3,"a",1),t.qZA()(),t._UZ(3,"mat-tab-nav-panel",null,2)(5,"router-outlet")),2&e){const n=t.MAs(4);t.xp6(1),t.Q6J("tabPanel",n),t.xp6(1),t.Q6J("ngForOf",i.navLinks)}},dependencies:[o.sg,tt.BU,tt.sW,tt.Nj,m.lC,m.rH,m.Od]});class B{}B.\u0275fac=function(e){return new(e||B)},B.\u0275cmp=t.Xpm({type:B,selectors:[["app-quantity"]],decls:0,vars:0,template:function(e,i){},styles:[".mat-form-field[_ngcontent-%COMP%], .example-full-width[_ngcontent-%COMP%]{width:100%}.primary[_ngcontent-%COMP%]{border-radius:50px}"]});class j{constructor(){this.tableData=[],this.firstInResponse=[],this.lastInResponse=[],this.prev_strt_at=[],this.pagination_clicked_count=0,this.disable_next=!1,this.disable_prev=!1}}j.\u0275fac=function(e){return new(e||j)},j.\u0275cmp=t.Xpm({type:j,selectors:[["app-size"]],decls:0,vars:0,template:function(e,i){},styles:[".mat-form-field[_ngcontent-%COMP%], .example-full-width[_ngcontent-%COMP%]{width:100%}.primary[_ngcontent-%COMP%]{border-radius:50px}"]});class G{}G.\u0275fac=function(e){return new(e||G)},G.\u0275cmp=t.Xpm({type:G,selectors:[["app-category"]],decls:0,vars:0,template:function(e,i){},styles:[".mat-form-field[_ngcontent-%COMP%], .example-full-width[_ngcontent-%COMP%]{width:100%}.primary[_ngcontent-%COMP%]{border-radius:50px}"]});const It=function(){return[5,25,100]};class z{constructor(e,i){this.router=e,this.productService=i,this.introText="Button actions and payloads come here in textual form",this.totalVolume=0,this.totalRides=0,this.data=[],this.footer="",this.columns=[{columnDef:"id",header:"#",cell:n=>`${n.id?n.id:""}`},{columnDef:"p_name",header:"Name",cell:n=>`${n.p_name?n.p_name:""}`},{columnDef:"info",header:"Info",cell:n=>`${n.info?n.info:""}`},{columnDef:"c_name",header:"Categories",cell:n=>`${n.c_name?n.c_name:""}`},{columnDef:"best_seller",header:"Best Seller",cell:n=>`${!!n.best_seller&&n.best_seller}`},{columnDef:"published",header:"Published",cell:n=>`${!!n.published&&n.published}`},{columnDef:"p_featured",header:"Featured",cell:n=>`${!!n.p_featured&&n.p_featured}`}],this.buttons=[{styleClass:"px-2",icon:"edit",payload:n=>`${n.id?n.id:""}`,action:"edit"},{styleClass:"px-2",icon:"delete",payload:n=>`${n.id?n.id:""}`,action:"delete"}]}ngOnInit(){this.getProductsData()}applyFilter(e){this.totalVolume=0,this.totalRides=0,this.footer=`Total volume: ${this.totalVolume}m\xb3 / trips: ${this.totalRides}`}buttonClick(e){"edit"===e[0]?this.router.navigate(["/admin/products/edit",e[1]]):"delete"===e[0]&&this.productService.deleteById(e[1]).subscribe(()=>{this.getProductsData()})}goToRoute(){this.router.navigate(["/admin/products/add"])}getProductsData(){this.productService.getProducts().subscribe(e=>{this.data=e})}onPubilshedChange(e){"published"===e[2]?this.productService.publishProduct({published:e[0].checked,id:e[1]}).subscribe(()=>{}):"p_featured"===e[2]?this.productService.featureProduct({featured:e[0].checked,id:e[1]}).subscribe(()=>{}):this.productService.bestSellerProduct({best_seller:e[0].checked,id:e[1]}).subscribe(()=>{})}}z.\u0275fac=function(e){return new(e||z)(t.Y36(m.F0),t.Y36(f))},z.\u0275cmp=t.Xpm({type:z,selectors:[["app-product-list"]],decls:10,vars:10,consts:[[1,"d-flex","p-3","justify-content-between","align-items-center"],[1,"p-3"],[1,"d-flex","justify-content-end","p-3"],["mat-raised-button","",1,"btn",3,"click"],[3,"columns","buttons","data","filter","filterPlaceholder","footer","pagination","pageSize","tableMinWidth","filteredData","buttonClick","publishChangeEvent"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1"),t._uU(3,"Products"),t.qZA()(),t.TgZ(4,"div",2)(5,"button",3),t.NdJ("click",function(){return i.goToRoute()}),t.TgZ(6,"mat-icon"),t._uU(7,"add"),t.qZA(),t._uU(8,"Add Product "),t.qZA()()(),t.TgZ(9,"app-generic-table",4),t.NdJ("filteredData",function(l){return i.applyFilter(l)})("buttonClick",function(l){return i.buttonClick(l)})("publishChangeEvent",function(l){return i.onPubilshedChange(l)}),t.qZA()),2&e&&(t.xp6(9),t.Q6J("columns",i.columns)("buttons",i.buttons)("data",i.data)("filter",!0)("filterPlaceholder","Filter any value")("footer",i.footer)("pagination",t.DdM(9,It))("pageSize",5)("tableMinWidth",400))},dependencies:[w.p,P.Hw,S.lW]});var qt=u(3905);class A{constructor(e){this.baseService=e}add(e){return this.baseService.post("attributes",e)}update(e,i){return this.baseService.put(`attributes/${e}`,i)}get(){return this.baseService.get("attributes")}getById(e){return this.baseService.get(`attributes/${e}`)}delete(e){return this.baseService.delete(`attributes/${e}`)}}function wt(a,e){if(1&a&&(t.TgZ(0,"option",19),t._uU(1),t.qZA()),2&a){const i=e.$implicit;t.Q6J("value",i.c_id),t.xp6(1),t.hij(" ",i.name," ")}}function Pt(a,e){if(1&a&&(t.TgZ(0,"option",19),t._uU(1),t.qZA()),2&a){const i=e.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.name," ")}}function St(a,e){if(1&a){const i=t.EpF();t.TgZ(0,"div",20)(1,"div",21)(2,"span",22),t.NdJ("click",function(){t.CHM(i);const l=t.oxw();return t.KtG(l.removeImage("baner",l.banerImage.id))}),t._uU(3,"\xd7"),t.qZA(),t._UZ(4,"img",23),t.qZA()()}if(2&a){const i=t.oxw();t.xp6(4),t.Q6J("src",i.banerImage.path,t.LSH)}}function Ut(a,e){if(1&a){const i=t.EpF();t.TgZ(0,"div",20)(1,"div",21)(2,"span",22),t.NdJ("click",function(){t.CHM(i);const l=t.oxw();return t.KtG(l.removeImage("meta",l.metaImage.id))}),t._uU(3,"\xd7"),t.qZA(),t._UZ(4,"img",23),t.qZA()()}if(2&a){const i=t.oxw();t.xp6(4),t.Q6J("src",i.metaImage.path,t.LSH)}}A.\u0275fac=function(e){return new(e||A)(t.LFG(v.b))},A.\u0275prov=t.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"});class k{constructor(e,i,n,l,_){this.categoryService=e,this.uploadService=i,this.router=n,this.activatedRoute=l,this.attributesService=_,this.imageType=void 0,this.metaImage={},this.banerImage={},this.attributes=[],this.formType="Add",this.categoryData=[],this.myForm=new r.nJ({meta_description:new r.p4(""),id:new r.p4(""),meta_title:new r.p4(""),order_level:new r.p4(0),parent_id:new r.p4(0),name:new r.p4(""),level:new r.p4(0),meta_image_path:new r.p4(""),baner_image_path:new r.p4,meta_image:new r.p4(0),banner:new r.p4(0),attribute_id:new r.p4(0),attribute_category_id:new r.p4(0)}),this.getAttributesData()}ngOnInit(){this.categoryService.get().subscribe(e=>{console.log(e),this.categoryData=e}),this.productId=this.activatedRoute.snapshot.paramMap.get("id"),this.productId&&(this.formType="Edit",this.categoryService.getCategoryById(this.productId).subscribe(e=>{this.setFormData(e);for(const i of e.images)"category_baner"===i.name?this.banerImage={path:i.path,id:i.id}:"category_meta"===i.name&&(this.metaImage={path:i.path,id:i.id})}))}imageChange(e,i){this.imageType=i,this.handleInputChange(e.target.files[0])}getAttributesData(){this.attributesService.get().subscribe(e=>{this.attributes=e})}handleInputChange(e){const i=e,n=new FileReader;n.onload=this._handleReaderLoaded.bind(this),n.readAsDataURL(i)}_handleReaderLoaded(e){let i=e.target;"baner"===this.imageType?this.banerImage={path:i.result}:"meta"===this.imageType&&(this.metaImage={path:i.result})}get f(){return this.myForm.controls}removeImage(e,i){this.productId?"baner"===e&&i?(this.f.baner_image_path.setValue(""),this.banerImage={},document.getElementById("baner_file").value="",this.uploadService.deleteFile(i).subscribe({})):"meta"===e&&i&&(this.metaImage={},document.getElementById("meta_file").value="",this.f.meta_image_path.setValue(""),this.uploadService.deleteFile(i).subscribe({})):"baner"===e?(this.banerImage={},document.getElementById("baner_file").value=""):"meta"===e&&(this.metaImage={},document.getElementById("meta_file").value="")}submit(){this.f.meta_image.setValue(Object.keys(this.metaImage)?1:0),this.f.banner.setValue(Object.keys(this.banerImage)?1:0),this.f.baner_image_path.setValue(this.banerImage.path),this.f.meta_image_path.setValue(this.metaImage.path),this.myForm.valid&&"Add"===this.formType?this.categoryService.addCategory(this.myForm.value).subscribe(e=>{e&&this.router.navigate(["/admin/products/category"])}):this.myForm.valid&&"Edit"===this.formType&&(this.f.id.setValue(this.productId),this.categoryService.updateCategory(this.myForm.value).subscribe(e=>{this.router.navigate(["/admin/products/category"])}))}setFormData(e){this.f.attribute_category_id.setValue(e.attribute_category_id),this.myForm.patchValue(e)}}k.\u0275fac=function(e){return new(e||k)(t.Y36(q.H),t.Y36(qt.C),t.Y36(m.F0),t.Y36(m.gz),t.Y36(A))},k.\u0275cmp=t.Xpm({type:k,selectors:[["app-add-category"]],decls:47,vars:6,consts:[[1,"div","container-fluid","p-3"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group"],["for","name"],["formControlName","name","id","name","type","text","placeholder","Name",1,"form-control"],["formControlName","parent_id",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["formControlName","attribute_id",1,"form-select"],["selected","","value","0"],["formControlName","order_level","id","name","type","number","placeholder","0",1,"form-control"],["id","baner_file","type","file",1,"form-control",3,"change"],[1,"bb"],["class","box",4,"ngIf"],["formControlName","meta_title","id","name","type","text",1,"form-control"],["rows","4","cols","50","formControlName","meta_description","id","name","type","text",1,"form-control"],["id","meta_file","type","file",1,"form-control",3,"change"],[1,"d-flex","mt-3","justify-content-center"],["type","submit",1,"btn","btn-primary","w-100"],[3,"value"],[1,"box"],[1,"image"],[3,"click"],["alt","fll;",3,"src"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"form",1),t.NdJ("ngSubmit",function(){return i.submit()}),t.TgZ(4,"div",2)(5,"div",3)(6,"label",4),t._uU(7,"Name"),t.qZA(),t._UZ(8,"input",5),t.qZA(),t.TgZ(9,"div",3)(10,"label",4),t._uU(11,"Parent Category"),t.qZA(),t.TgZ(12,"select",6),t.YNc(13,wt,2,2,"option",7),t.qZA()(),t.TgZ(14,"div",3)(15,"label",4),t._uU(16,"Attribute"),t.qZA(),t.TgZ(17,"select",8),t._UZ(18,"option",9),t.YNc(19,Pt,2,2,"option",7),t.qZA()(),t.TgZ(20,"div",3)(21,"label",4),t._uU(22,"Order Number"),t.qZA(),t._UZ(23,"input",10),t.qZA(),t.TgZ(24,"div",3)(25,"label",4),t._uU(26,"Baner"),t.qZA(),t.TgZ(27,"input",11),t.NdJ("change",function(l){return i.imageChange(l,"baner")}),t.qZA(),t.TgZ(28,"div",12),t.YNc(29,St,5,1,"div",13),t.qZA()(),t.TgZ(30,"div",3)(31,"label",4),t._uU(32,"Meta Title"),t.qZA(),t._UZ(33,"input",14),t.qZA(),t.TgZ(34,"div",3)(35,"label",4),t._uU(36,"Meta Description"),t.qZA(),t._UZ(37,"textarea",15),t.qZA(),t.TgZ(38,"div",3)(39,"label",4),t._uU(40,"Meta Image"),t.qZA(),t.TgZ(41,"input",16),t.NdJ("change",function(l){return i.imageChange(l,"meta")}),t.qZA(),t.TgZ(42,"div",12),t.YNc(43,Ut,5,1,"div",13),t.qZA()()(),t.TgZ(44,"div",17)(45,"button",18),t._uU(46,"Submit"),t.qZA()()()()),2&e&&(t.xp6(2),t.hij("",i.formType," Category"),t.xp6(1),t.Q6J("formGroup",i.myForm),t.xp6(10),t.Q6J("ngForOf",i.categoryData),t.xp6(6),t.Q6J("ngForOf",i.attributes),t.xp6(10),t.Q6J("ngIf",i.banerImage.path),t.xp6(14),t.Q6J("ngIf",i.metaImage.path))},dependencies:[o.sg,o.O5,r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r.JJ,r.JL,r.sg,r.u],styles:[".mat-form-field[_ngcontent-%COMP%]{width:100%}.primary[_ngcontent-%COMP%]{border-radius:50px}.file-input[_ngcontent-%COMP%]{display:none}.image-fit[_ngcontent-%COMP%]{max-height:100%;width:100%;object-fit:cover}.thumb[_ngcontent-%COMP%]{height:52px}.image[_ngcontent-%COMP%]{margin-right:15px;height:75px;position:relative;margin-bottom:8px}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:5px;object-fit:cover}.box[_ngcontent-%COMP%]{width:100%;height:auto;display:flex;justify-content:flex-start;align-items:flex-start;flex-wrap:wrap;max-height:200px;overflow-y:auto;margin-top:10px}.box[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:-2px;right:9px;font-size:20px;cursor:pointer}.bb[_ngcontent-%COMP%]{display:flex;height:auto;padding:10px;border-radius:5px;overflow:hidden;object-fit:cover}  .custom-day{text-align:center;padding:.185rem .25rem;display:inline-block;height:2rem;width:2rem}  .custom-day .range, .custom-day[_ngcontent-%COMP%]:hover{background-color:#0275d8;color:#fff}"]});class Q{constructor(e,i,n){this.router=e,this.attributesService=i,this.activatedRoute=n,this.attributeId="",this.formType="Add",this.myForm=new r.cw({name:new r.NI("",r.kI.required),type:new r.NI("",r.kI.required)}),this.attributeId=this.activatedRoute.snapshot.paramMap.get("id")}ngOnInit(){this.attributeId&&(this.formType="Edit",this.attributesService.getById(this.attributeId).subscribe(e=>{this.myForm.patchValue(e)}))}submit(){this.myForm.valid&&!this.attributeId?this.attributesService.add(this.myForm.value).subscribe(e=>{}):this.attributeId&&this.attributesService.update(this.attributeId,this.myForm.value).subscribe(e=>{})}}Q.\u0275fac=function(e){return new(e||Q)(t.Y36(m.F0),t.Y36(A),t.Y36(m.gz))},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["app-attributes"]],decls:15,vars:2,consts:[[1,"div","container-fluid","p-3"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["formControlName","name","id","name","type","text","placeholder","Name",1,"form-control"],["formControlName","type","id","name","type","text","placeholder","Type",1,"form-control"],[1,"d-flex","mt-3","justify-content-center"],["type","submit",1,"btn","btn-primary","w-100"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"form",1),t.NdJ("ngSubmit",function(){return i.submit()}),t.TgZ(4,"div",2)(5,"label",3),t._uU(6,"Name"),t.qZA(),t._UZ(7,"input",4),t.qZA(),t.TgZ(8,"div",2)(9,"label",3),t._uU(10,"Type"),t.qZA(),t._UZ(11,"input",5),t.qZA(),t.TgZ(12,"div",6)(13,"button",7),t._uU(14,"Submit"),t.qZA()()()()),2&e&&(t.xp6(2),t.hij("",i.formType," Category"),t.xp6(1),t.Q6J("formGroup",i.myForm))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u]});const Ft=function(){return[5,25,100]};class H{constructor(e,i){this.router=e,this.attributesService=i,this.introText="Button actions and payloads come here in textual form",this.totalVolume=0,this.totalRides=0,this.data=[],this.footer="",this.attributes=[],this.columns=[{columnDef:"id",header:"#",cell:n=>`${n.id?n.id:""}`},{columnDef:"name",header:"Name",cell:n=>`${n.name?n.name:""}`},{columnDef:"type",header:"Type",cell:n=>`${n.type?n.type:""}`}],this.buttons=[{styleClass:"px-2",icon:"settings_input_component",payload:n=>`${n.id?n.id:""}`,action:"config"},{styleClass:"px-2",icon:"edit",payload:n=>`${n.id?n.id:""}`,action:"edit"}]}ngOnInit(){this.getAttributes()}applyFilter(e){this.totalVolume=0,this.totalRides=0,this.footer=`Total volume: ${this.totalVolume}m\xb3 / trips: ${this.totalRides}`}buttonClick(e){"edit"===e[0]?this.router.navigate(["/admin/products/attributes/edit",e[1]]):"delete"===e[0]?this.attributesService.delete(e[1]).subscribe():"config"===e[0]&&this.router.navigate(["/admin/products/attribute/value/add",e[1]])}goToRoute(){this.router.navigate(["/admin/products/attributes/add"])}onPubilshedChange(e){}getAttributes(){this.attributesService.get().subscribe(e=>{this.attributes=e,this.data=this.attributes})}}H.\u0275fac=function(e){return new(e||H)(t.Y36(m.F0),t.Y36(A))},H.\u0275cmp=t.Xpm({type:H,selectors:[["app-attributes-list"]],decls:10,vars:10,consts:[[1,"d-flex","p-3","justify-content-between","align-items-center"],[1,"p-3"],[1,"fw-bold"],[1,"d-flex","justify-content-end","p-3"],["mat-raised-button","",1,"btn",3,"click"],[3,"columns","buttons","data","filter","filterPlaceholder","footer","pagination","pageSize","tableMinWidth","filteredData","buttonClick","publishChangeEvent"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3,"Attributes"),t.qZA()(),t.TgZ(4,"div",3)(5,"button",4),t.NdJ("click",function(){return i.goToRoute()}),t.TgZ(6,"mat-icon"),t._uU(7,"add"),t.qZA(),t._uU(8,"Add Attribute "),t.qZA()()(),t.TgZ(9,"app-generic-table",5),t.NdJ("filteredData",function(l){return i.applyFilter(l)})("buttonClick",function(l){return i.buttonClick(l)})("publishChangeEvent",function(l){return i.onPubilshedChange(l)}),t.qZA()),2&e&&(t.xp6(9),t.Q6J("columns",i.columns)("buttons",i.buttons)("data",i.data)("filter",!0)("filterPlaceholder","Filter any value")("footer",i.footer)("pagination",t.DdM(9,Ft))("pageSize",5)("tableMinWidth",400))},dependencies:[w.p,P.Hw,S.lW]});const Nt=function(){return[5,25,100]};class W{constructor(e,i,n){this.activatedRoute=e,this.router=i,this.attributeValueService=n,this.formType="Add",this.footer="Attribute Value",this.totalVolume=0,this.totalRides=0,this.data=[],this.attributeId="",this.myForm=new r.cw({name:new r.NI("",r.kI.required)}),this.attributeId=this.activatedRoute.snapshot.paramMap.get("id"),this.columns=[{columnDef:"id",header:"#",cell:l=>`${l.id?l.id:""}`},{columnDef:"name",header:"Name",cell:l=>`${l.name?l.name:""}`}],this.buttons=[{styleClass:"px-2",icon:"delete",payload:l=>`${l.id?l.id:""}`,action:"delete"}]}ngOnInit(){this.getAttributesValue()}submit(){if(this.myForm.valid){const e={...this.myForm.value,attribute_id:this.attributeId};this.attributeValueService.add(e).subscribe(i=>{i&&this.getAttributesValue()})}}getAttributesValue(){this.attributeValueService.get().subscribe(e=>{this.data=e})}buttonClick(e){"delete"===e[0]&&this.attributeValueService.delete(e[1]).subscribe(()=>{this.getAttributesValue()})}goToRoute(){this.router.navigate(["/admin/products/attributes/add"])}onPubilshedChange(e){}}W.\u0275fac=function(e){return new(e||W)(t.Y36(m.gz),t.Y36(m.F0),t.Y36(b))},W.\u0275cmp=t.Xpm({type:W,selectors:[["app-attribute-value"]],decls:12,vars:11,consts:[[1,"div","container-fluid","p-3"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["formControlName","name","id","name","type","text","placeholder","Name",1,"form-control"],[1,"d-flex","mt-3","justify-content-center"],["type","submit",1,"btn","btn-primary","w-100"],[3,"columns","buttons","data","filter","filterPlaceholder","pagination","pageSize","tableMinWidth","buttonClick","publishChangeEvent"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"form",1),t.NdJ("ngSubmit",function(){return i.submit()}),t.TgZ(4,"div",2)(5,"label",3),t._uU(6,"Name"),t.qZA(),t._UZ(7,"input",4),t.qZA(),t.TgZ(8,"div",5)(9,"button",6),t._uU(10,"Submit"),t.qZA()()()(),t.TgZ(11,"app-generic-table",7),t.NdJ("buttonClick",function(l){return i.buttonClick(l)})("publishChangeEvent",function(l){return i.onPubilshedChange(l)}),t.qZA()),2&e&&(t.xp6(2),t.hij("",i.formType," Attribute Value"),t.xp6(1),t.Q6J("formGroup",i.myForm),t.xp6(8),t.Q6J("columns",i.columns)("buttons",i.buttons)("data",i.data)("filter",!0)("filterPlaceholder","Filter any value")("pagination",t.DdM(10,Nt))("pageSize",5)("tableMinWidth",400))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,w.p,r.sg,r.u],styles:["th[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{width:33%!important}"]});const Mt=function(){return[5,25,100]};class K{constructor(e,i){this.router=e,this.colorsService=i,this.introText="Button actions and payloads come here in textual form",this.totalVolume=0,this.totalRides=0,this.data=[],this.footer="",this.attributes=[],this.columns=[{columnDef:"id",header:"#",cell:n=>`${n.id?n.id:""}`},{columnDef:"name",header:"Name",cell:n=>`${n.name?n.name:""}`},{columnDef:"value",header:"Value",cell:n=>`${n.value?n.value:""}`},{columnDef:"status",header:"Status",cell:n=>`${!!n.status&&n.status}`}],this.buttons=[{styleClass:"px-2",icon:"delete",payload:n=>`${n.id?n.id:""}`,action:"delete"},{styleClass:"px-2",icon:"edit",payload:n=>`${n.id?n.id:""}`,action:"edit"}]}ngOnInit(){this.getAttributes()}applyFilter(e){this.totalVolume=0,this.totalRides=0,this.footer=`Total volume: ${this.totalVolume}m\xb3 / trips: ${this.totalRides}`}buttonClick(e){"edit"===e[0]?this.router.navigate(["/admin/products/color/edit",e[1]]):"delete"===e[0]&&this.colorsService.deleteById(e[1]).subscribe()}goToRoute(){this.router.navigate(["/admin/products/color"])}onPubilshedChange(e){}getAttributes(){this.colorsService.getColors().subscribe(e=>{this.attributes=e,this.data=this.attributes})}}K.\u0275fac=function(e){return new(e||K)(t.Y36(m.F0),t.Y36(h))},K.\u0275cmp=t.Xpm({type:K,selectors:[["app-color-list"]],decls:10,vars:10,consts:[[1,"d-flex","p-3","justify-content-between","align-items-center"],[1,"p-3"],[1,"fw-bold"],[1,"d-flex","justify-content-end","p-3"],["mat-raised-button","",1,"btn",3,"click"],[3,"columns","buttons","data","filter","filterPlaceholder","footer","pagination","pageSize","tableMinWidth","filteredData","buttonClick","publishChangeEvent"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3,"Colors"),t.qZA()(),t.TgZ(4,"div",3)(5,"button",4),t.NdJ("click",function(){return i.goToRoute()}),t.TgZ(6,"mat-icon"),t._uU(7,"add"),t.qZA(),t._uU(8,"Add Color "),t.qZA()()(),t.TgZ(9,"app-generic-table",5),t.NdJ("filteredData",function(l){return i.applyFilter(l)})("buttonClick",function(l){return i.buttonClick(l)})("publishChangeEvent",function(l){return i.onPubilshedChange(l)}),t.qZA()),2&e&&(t.xp6(9),t.Q6J("columns",i.columns)("buttons",i.buttons)("data",i.data)("filter",!0)("filterPlaceholder","Filter any value")("footer",i.footer)("pagination",t.DdM(9,Mt))("pageSize",5)("tableMinWidth",400))},dependencies:[w.p,P.Hw,S.lW]});const Dt=[{path:"",component:R,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:z},{path:"add",component:J},{path:"edit/:id",component:J},{path:"color",component:y},{path:"color/edit/:id",component:y},{path:"color-list",component:K},{path:"add/description",component:F},{path:"category",component:U},{path:"category/add",component:k},{path:"category/edit/:id",component:k},{path:"category/add/subcategory",component:G},{path:"attributes/add",component:Q},{path:"attribute/value/add/:id",component:W},{path:"attributes/edit/:id",component:Q},{path:"attributes-list",component:H},{path:"add/size",component:j},{path:"add/discount",component:N},{path:"add/quantity",component:B},{path:"add/brand",component:p}]}];class Y{}Y.\u0275fac=function(e){return new(e||Y)},Y.\u0275mod=t.oAB({type:Y}),Y.\u0275inj=t.cJS({imports:[m.Bz.forChild(Dt),m.Bz]});var Ot=u(9549),Jt=u(4385),kt=u(5412),Qt=u(4144),Yt=u(6329),$t=u(9602),Lt=u(3238);class ${}$.\u0275fac=function(e){return new(e||$)},$.\u0275mod=t.oAB({type:$}),$.\u0275inj=t.cJS({imports:[o.ez,r.u5,V.UM,$t.FA,E.M,Lt.XK,Yt.m,tt.Nh,r.UX,P.Ps,Ot.lN,Qt.c,Jt.LD,S.ot,kt.Is,Y]})},2184:(dt,X,u)=>{u.d(X,{p:()=>M});var o=u(4650),m=u(8739),t=u(6308),p=u(671),q=u(6895),w=u(9101),P=u(7392),S=u(455);function et(c,d){if(1&c&&(o.TgZ(0,"th",13),o._uU(1),o.qZA()),2&c){const s=o.oxw().$implicit;o.xp6(1),o.hij(" ",s.header," ")}}function U(c,d){if(1&c&&(o.ynx(0),o._uU(1),o.BQk()),2&c){const s=o.oxw().$implicit,g=o.oxw().$implicit;o.xp6(1),o.hij(" ",g.cell(s)," ")}}function r(c,d){if(1&c){const s=o.EpF();o.ynx(0),o.TgZ(1,"mat-slide-toggle",15),o.NdJ("change",function(O){o.CHM(s);const T=o.oxw().$implicit,x=o.oxw().$implicit,D=o.oxw();return o.KtG(D.publishChangeEvent.emit([O,T.id,x.columnDef]))}),o.qZA(),o.BQk()}if(2&c){const s=o.oxw().$implicit,g=o.oxw().$implicit;o.xp6(1),o.Q6J("checked",g.cell(s))}}function v(c,d){if(1&c){const s=o.EpF();o.ynx(0),o.TgZ(1,"mat-slide-toggle",15),o.NdJ("change",function(O){o.CHM(s);const T=o.oxw().$implicit,x=o.oxw().$implicit,D=o.oxw();return o.KtG(D.publishChangeEvent.emit([O,T.id,x.columnDef]))}),o.qZA(),o.BQk()}if(2&c){const s=o.oxw().$implicit,g=o.oxw().$implicit;o.xp6(1),o.Q6J("checked",g.cell(s))}}function h(c,d){if(1&c&&(o.ynx(0),o._UZ(1,"img",16),o.BQk()),2&c){const s=o.oxw().$implicit,g=o.oxw().$implicit;o.xp6(1),o.Q6J("src",g.cell(s),o.LSH)}}function it(c,d){if(1&c&&(o.TgZ(0,"td",14),o.YNc(1,U,2,1,"ng-container",8),o.YNc(2,r,2,1,"ng-container",8),o.YNc(3,v,2,1,"ng-container",8),o.YNc(4,h,2,1,"ng-container",8),o.qZA()),2&c){const s=o.oxw().$implicit;o.xp6(1),o.Q6J("ngIf","path"!==s.columnDef&&"published"!==s.columnDef&&"featured"!==s.columnDef&&"best_seller"!==s.columnDef&&"p_featured"!==s.columnDef&&"is_active"!==s.columnDef),o.xp6(1),o.Q6J("ngIf","published"===s.columnDef||"best_seller"===s.columnDef||"p_featured"===s.columnDef||"is_active"===s.columnDef),o.xp6(1),o.Q6J("ngIf","featured"===s.columnDef),o.xp6(1),o.Q6J("ngIf","path"===s.columnDef)}}function nt(c,d){if(1&c&&(o.ynx(0)(1,10),o.YNc(2,et,2,1,"th",11),o.YNc(3,it,5,4,"td",12),o.BQk()()),2&c){const s=d.$implicit;o.xp6(1),o.s9C("matColumnDef",s.columnDef)}}function ot(c,d){1&c&&o._UZ(0,"th",21)}function at(c,d){if(1&c){const s=o.EpF();o.TgZ(0,"div",24)(1,"button",25),o.NdJ("click",function(){const T=o.CHM(s).$implicit,x=o.oxw(),D=x.$implicit,lt=x.index,st=o.oxw(2);return o.KtG(st.buttonClick.emit([T.action,T.payload(D),lt]))}),o.TgZ(2,"mat-icon"),o._uU(3),o.qZA()()()}if(2&c){const s=d.$implicit;o.xp6(1),o.Tol(s.styleClass),o.xp6(2),o.Oqu(s.icon)}}const rt=function(c){return{height:"80px","min-width":c}};function y(c,d){if(1&c&&(o.TgZ(0,"td",22),o.YNc(1,at,4,4,"div",23),o.qZA()),2&c){const s=o.oxw(2);o.Q6J("ngStyle",o.VKq(2,rt,"calc(55px * "+s.buttons.length+")")),o.xp6(1),o.Q6J("ngForOf",s.buttons)}}function F(c,d){1&c&&(o.ynx(0,17)(1,18),o.YNc(2,ot,1,0,"th",19),o.YNc(3,y,2,4,"td",20),o.BQk()())}function N(c,d){if(1&c&&(o.TgZ(0,"td",28)(1,"strong"),o._uU(2),o.qZA()()),2&c){const s=o.oxw(2);o.xp6(2),o.Oqu(s.footer)}}function L(c,d){1&c&&(o.ynx(0,26),o.YNc(1,N,3,1,"td",27),o.BQk())}function f(c,d){1&c&&o._UZ(0,"tr",29)}function b(c,d){1&c&&o._UZ(0,"tr",30)}function E(c,d){1&c&&o._UZ(0,"tr",32)}const C=function(){return["disclaimer"]};function Z(c,d){1&c&&(o.ynx(0),o.YNc(1,E,1,0,"tr",31),o.BQk()),2&c&&(o.xp6(1),o.Q6J("matFooterRowDef",o.DdM(1,C)))}const V=function(c){return{"min-width":c}};class M{constructor(){this.columns=[],this.buttons=[],this.data=[],this.filter=!1,this.filterPlaceholder="Filter",this.footer=null,this.pagination=[],this.tableMinWidth=500,this.filteredData=new o.vpe,this.buttonClick=new o.vpe,this.publishChangeEvent=new o.vpe}ngOnChanges(d){this.data&&d.data&&(this.dataSource=new p.by(this.data),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.displayedColumns=[...this.columns.map(s=>s.columnDef)],this.buttons.length>0&&(this.displayedColumns=[...this.displayedColumns,"actions"]))}applyFilter(d){this.dataSource.filter=d.trim().toLowerCase(),this.filteredData.emit(this.dataSource.filteredData),this.dataSource.paginator&&this.dataSource.paginator.firstPage(),this.dataSource.sort=this.sort}}M.\u0275fac=function(d){return new(d||M)},M.\u0275cmp=o.Xpm({type:M,selectors:[["app-generic-table"]],viewQuery:function(d,s){if(1&d&&(o.Gf(m.NW,7),o.Gf(t.YE,7)),2&d){let g;o.iGM(g=o.CRH())&&(s.paginator=g.first),o.iGM(g=o.CRH())&&(s.sort=g.first)}},inputs:{columns:"columns",buttons:"buttons",data:"data",filter:"filter",filterPlaceholder:"filterPlaceholder",footer:"footer",pagination:"pagination",pageSize:"pageSize",tableMinWidth:"tableMinWidth"},outputs:{filteredData:"filteredData",buttonClick:"buttonClick",publishChangeEvent:"publishChangeEvent"},features:[o.TTD],decls:10,vars:15,consts:[[1,"container-fluid","p-3"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource","ngStyle"],[4,"ngFor","ngForOf"],["class","d-flex",4,"ngIf"],["matColumnDef","disclaimer",4,"ngIf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],[3,"pageSizeOptions","pageSize","ngStyle"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["color","primary",1,"example-margin",3,"checked","change"],["alt","baner","height","75px",3,"src"],[1,"d-flex"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","d-flex",3,"ngStyle",4,"matCellDef"],["mat-header-cell",""],["mat-cell","",1,"d-flex",3,"ngStyle"],["class","btn-group p-1",4,"ngFor","ngForOf"],[1,"btn-group","p-1"],["mat-icon-button","",3,"click"],["matColumnDef","disclaimer"],["mat-footer-cell","","colspan","100%",4,"matFooterCellDef"],["mat-footer-cell","","colspan","100%"],["mat-header-row",""],["mat-row",""],["mat-footer-row","","class","example-second-footer-row",4,"matFooterRowDef"],["mat-footer-row","",1,"example-second-footer-row"]],template:function(d,s){1&d&&(o.TgZ(0,"div",0)(1,"div",1)(2,"table",2),o.YNc(3,nt,4,1,"ng-container",3),o.YNc(4,F,4,0,"ng-container",4),o.YNc(5,L,2,0,"ng-container",5),o.YNc(6,f,1,0,"tr",6),o.YNc(7,b,1,0,"tr",7),o.YNc(8,Z,2,2,"ng-container",8),o.qZA(),o._UZ(9,"mat-paginator",9),o.qZA()()),2&d&&(o.xp6(2),o.Q6J("dataSource",s.dataSource)("ngStyle",o.VKq(11,V,+s.tableMinWidth+"px")),o.xp6(1),o.Q6J("ngForOf",s.columns),o.xp6(1),o.Q6J("ngIf",s.buttons.length>0),o.xp6(1),o.Q6J("ngIf",s.footer),o.xp6(1),o.Q6J("matHeaderRowDef",s.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",s.displayedColumns),o.xp6(1),o.Q6J("ngIf",s.footer),o.xp6(1),o.Q6J("pageSizeOptions",s.pagination)("pageSize",s.pageSize)("ngStyle",o.VKq(13,V,+s.tableMinWidth+"px")))},dependencies:[q.sg,q.O5,q.PC,p.BZ,p.fO,p.as,p.w1,p.Dz,p.nj,p.mD,p.Ke,p.ge,p.ev,p.yh,p.XQ,p.Gk,p.Q2,m.NW,w.RK,P.Hw,S.Rr],styles:["table[_ngcontent-%COMP%], mat-paginator[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}mat-icon[_ngcontent-%COMP%]{font-size:18px}.table-buttons__field[_ngcontent-%COMP%]{min-width:200px}.mat-header-cell[_ngcontent-%COMP%]{background:#111827;color:#fff}img[_ngcontent-%COMP%]{object-fit:cover;text-align:center}"]})}}]);