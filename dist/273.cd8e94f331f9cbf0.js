"use strict";(self.webpackChunkshoe=self.webpackChunkshoe||[]).push([[273],{9273:(ut,W,d)=>{d.r(W),d.d(W,{ProductsModule:()=>Q});var n=d(6895),m=d(9132),t=d(4650);class p{}p.\u0275fac=function(e){return new(e||p)},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-brand"]],decls:0,vars:0,template:function(e,i){},styles:[".mat-form-field[_ngcontent-%COMP%], .example-full-width[_ngcontent-%COMP%]{width:100%}.primary[_ngcontent-%COMP%]{border-radius:50px}"]});var T=d(1344),x=d(2184),A=d(7392),I=d(9101);const tt=function(){return[5,25,100]};class w{constructor(e,i){this.router=e,this.categoryService=i,this.introText="Button actions and payloads come here in textual form",this.totalVolume=0,this.totalRides=0,this.data=[],this.footer="",this.columns=[{columnDef:"id",header:"#",cell:o=>`${o.id?o.id:""}`},{columnDef:"name",header:"Name",cell:o=>`${o.name?o.name:""}`},{columnDef:"parent_name",header:"Parent Category",cell:o=>`${o.parent_name?o.parent_name:"-"}`},{columnDef:"order_level",header:"Order Level",cell:o=>`${o.order_level?o.order_level:0}`},{columnDef:"level",header:"Level",cell:o=>`${o.level?o.level:0}`},{columnDef:"banner",header:"Banner",cell:o=>`${o.banner?o.banner:0}`},{columnDef:"featured",header:"Featured",cell:o=>`${!!o.featured&&o.featured}`}],this.buttons=[{styleClass:"btn px-2",icon:"edit",payload:o=>`${o.id?o.id:""}`,action:"edit"},{styleClass:"btn px-2",icon:"delete",payload:o=>`${o.id?o.id:""}`,action:"delete"}]}ngOnInit(){this.getCategories()}applyFilter(e){this.totalVolume=0,this.totalRides=0,this.footer=`Total volume: ${this.totalVolume}m\xb3 / trips: ${this.totalRides}`}buttonClick(e){"delete"===e[0]?this.categoryService.delete(e[1]).subscribe(i=>{i&&this.getCategories()}):"edit"===e[0]&&this.router.navigate(["admin/products/category/edit",e[1]])}changeEvent(e){this.categoryService.updateFeature({feature:e[0].checked,id:e[1]}).subscribe(()=>{})}goToRoute(){this.router.navigate(["/admin/products/category/add"])}getCategories(){this.categoryService.get().subscribe(e=>{for(const i of e){let o=e.find(l=>l.id===i.parent_id)?.name;i.parent_name=o}this.data=e})}}w.\u0275fac=function(e){return new(e||w)(t.Y36(m.F0),t.Y36(T.H))},w.\u0275cmp=t.Xpm({type:w,selectors:[["app-category"]],decls:10,vars:10,consts:[[1,"d-flex","p-3","justify-content-between","align-items-center"],[1,"p-3"],[1,"fw-bold"],[1,"d-flex","justify-content-end","p-3"],["mat-raised-button","",1,"btn",3,"click"],[3,"columns","buttons","data","filter","filterPlaceholder","footer","pagination","pageSize","tableMinWidth","filteredData","buttonClick","publishChangeEvent"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3,"Categories"),t.qZA()(),t.TgZ(4,"div",3)(5,"button",4),t.NdJ("click",function(){return i.goToRoute()}),t.TgZ(6,"mat-icon"),t._uU(7,"add"),t.qZA(),t._uU(8,"Add Category "),t.qZA()()(),t.TgZ(9,"app-generic-table",5),t.NdJ("filteredData",function(l){return i.applyFilter(l)})("buttonClick",function(l){return i.buttonClick(l)})("publishChangeEvent",function(l){return i.changeEvent(l)}),t.qZA()),2&e&&(t.xp6(9),t.Q6J("columns",i.columns)("buttons",i.buttons)("data",i.data)("filter",!0)("filterPlaceholder","Filter any value")("footer",i.footer)("pagination",t.DdM(9,tt))("pageSize",5)("tableMinWidth",400))},dependencies:[x.p,A.Hw,I.lW]});var r=d(4006),q=d(4614);class h{constructor(e){this.baseService=e}addColor(e){return this.baseService.post("colors",e)}getColors(){return this.baseService.get("colors")}getColorById(e){return this.baseService.get(`colors/${e}`)}deleteById(e){return this.baseService.delete(`colors/${e}`)}updateColor(e,i){return this.baseService.put(`colors/${e}`,i)}}function et(a,e){1&a&&(t.TgZ(0,"div"),t._uU(1," Name is required. "),t.qZA())}function it(a,e){if(1&a&&(t.TgZ(0,"div",10),t.YNc(1,et,2,0,"div",11),t.qZA()),2&a){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.f.name.errors&&i.f.name.errors.required)}}function nt(a,e){1&a&&(t.TgZ(0,"div"),t._uU(1," Value is required. "),t.qZA())}function ot(a,e){1&a&&(t.TgZ(0,"div"),t._uU(1," Invalid code "),t.qZA())}function at(a,e){if(1&a&&(t.TgZ(0,"div",10),t.YNc(1,nt,2,0,"div",11),t.YNc(2,ot,2,0,"div",11),t.qZA()),2&a){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.f.value.errors&&i.f.value.errors.required),t.xp6(1),t.Q6J("ngIf",i.f.value.errors&&i.f.value.errors.pattern)}}h.\u0275fac=function(e){return new(e||h)(t.LFG(q.b))},h.\u0275prov=t.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"});class b{constructor(e,i,o){this.router=e,this.colorsService=i,this.activatedRoute=o,this.colorId="",this.formType="Add",this.myForm=new r.cw({name:new r.NI("",r.kI.required),value:new r.NI("",[r.kI.required,r.kI.pattern("^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$")])}),this.colorId=this.activatedRoute.snapshot.paramMap.get("id")}ngOnInit(){this.colorId&&(this.formType="Edit",this.colorsService.getColorById(this.colorId).subscribe(e=>{this.myForm.patchValue(e)}))}get f(){return this.myForm.controls}submit(){this.myForm.valid&&!this.colorId?this.colorsService.addColor(this.myForm.value).subscribe(e=>{e&&this.router.navigate(["/admin/products/color-list"])}):this.colorId&&this.colorsService.updateColor(this.colorId,this.myForm.value).subscribe(e=>{e&&this.router.navigate(["/admin/products/color-list"])})}}b.\u0275fac=function(e){return new(e||b)(t.Y36(m.F0),t.Y36(h),t.Y36(m.gz))},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-color"]],decls:17,vars:4,consts:[[1,"div","container-fluid","p-3"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["formControlName","name","id","name","type","text","placeholder","Name",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","value"],["formControlName","value","id","name","type","text","placeholder","Value",1,"form-control"],[1,"d-flex","mt-3","justify-content-center"],["type","submit",1,"btn","btn-primary","w-100"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"form",1),t.NdJ("ngSubmit",function(){return i.submit()}),t.TgZ(4,"div",2)(5,"label",3),t._uU(6,"Name"),t.qZA(),t._UZ(7,"input",4),t.YNc(8,it,2,1,"div",5),t.qZA(),t.TgZ(9,"div",2)(10,"label",6),t._uU(11,"Value"),t.qZA(),t._UZ(12,"input",7),t.YNc(13,at,3,2,"div",5),t.qZA(),t.TgZ(14,"div",8)(15,"button",9),t._uU(16,"Submit"),t.qZA()()()()),2&e&&(t.xp6(2),t.hij("",i.formType," Color"),t.xp6(1),t.Q6J("formGroup",i.myForm),t.xp6(5),t.Q6J("ngIf",i.f.name.touched&&i.f.name.invalid),t.xp6(5),t.Q6J("ngIf",i.f.value.touched&&i.f.value.invalid))},dependencies:[n.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:[".mat-form-field[_ngcontent-%COMP%], .example-full-width[_ngcontent-%COMP%]{width:100%}.primary[_ngcontent-%COMP%]{border-radius:50px}"]});class P{}P.\u0275fac=function(e){return new(e||P)},P.\u0275cmp=t.Xpm({type:P,selectors:[["app-description"]],decls:0,vars:0,template:function(e,i){},styles:[".mat-form-field[_ngcontent-%COMP%], .example-full-width[_ngcontent-%COMP%]{width:100%}.primary[_ngcontent-%COMP%]{border-radius:50px}"]});class S{}S.\u0275fac=function(e){return new(e||S)},S.\u0275cmp=t.Xpm({type:S,selectors:[["app-discount"]],decls:0,vars:0,template:function(e,i){},styles:[".mat-form-field[_ngcontent-%COMP%], .example-full-width[_ngcontent-%COMP%]{width:100%}.primary[_ngcontent-%COMP%]{border-radius:50px}"]});class Y{static numeric(e){let i=e.value;return null===i||""===i||i.toString().match(/^[0-9]+(\.?[0-9]+)?$/)?null:{invalidNumber:!0}}}class f{constructor(e){this.baseService=e}addProduct(e){return this.baseService.post("products",e)}editProduct(e){return this.baseService.put("products",e)}getProducts(){return this.baseService.get("products")}getProductById(e){return this.baseService.get(`products/all/${e}`)}deleteById(e){return this.baseService.delete(`products/${e}`)}publishProduct(e){return this.baseService.post("products/publish",e)}bestSellerProduct(e){return this.baseService.post("products/best-seller",e)}}f.\u0275fac=function(e){return new(e||f)(t.LFG(q.b))},f.\u0275prov=t.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"});var $=d(7238);class v{constructor(e){this.baseService=e}removeImage(e){return this.baseService.post(`products/image/${e}`)}get(){return this.baseService.get("categories")}}v.\u0275fac=function(e){return new(e||v)(t.LFG(q.b))},v.\u0275prov=t.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"});var K=d(7375);const rt=["file_list"];function X(a,e){1&a&&(t.TgZ(0,"div"),t._uU(1," Name is required. "),t.qZA())}function U(a,e){1&a&&(t.TgZ(0,"div"),t._uU(1," Name should be 3 character. "),t.qZA())}function s(a,e){if(1&a&&(t.TgZ(0,"div",59),t.YNc(1,X,2,0,"div",60),t.YNc(2,U,2,0,"div",60),t.qZA()),2&a){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.f.name.errors&&i.f.name.errors.required),t.xp6(1),t.Q6J("ngIf",i.f.name.errors&&i.f.name.errors.minlength)}}function u(a,e){1&a&&(t.TgZ(0,"div"),t._uU(1," Minimum Quantity is required. "),t.qZA())}function c(a,e){1&a&&(t.TgZ(0,"div"),t._uU(1," Only Numbers Allowed "),t.qZA())}function g(a,e){if(1&a&&(t.TgZ(0,"div",59),t.YNc(1,u,2,0,"div",60),t.YNc(2,c,2,0,"div",60),t.qZA()),2&a){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.f.min_qty.errors&&i.f.min_qty.errors.required),t.xp6(1),t.Q6J("ngIf",i.f.min_qty.errors&&i.f.min_qty.errors.invalidNumber)}}function N(a,e){1&a&&(t.TgZ(0,"div"),t._uU(1," Maximum Quantity is required. "),t.qZA())}function y(a,e){1&a&&(t.TgZ(0,"div"),t._uU(1," Only Numbers Allowed "),t.qZA())}function C(a,e){if(1&a&&(t.TgZ(0,"div",59),t.YNc(1,N,2,0,"div",60),t.YNc(2,y,2,0,"div",60),t.qZA()),2&a){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.f.max_qty.errors&&i.f.max_qty.errors.required),t.xp6(1),t.Q6J("ngIf",i.f.max_qty.errors&&i.f.max_qty.errors.invalidNumber)}}function F(a,e){1&a&&(t.TgZ(0,"div"),t._uU(1," File is required. "),t.qZA())}function lt(a,e){if(1&a&&(t.TgZ(0,"div",59),t.YNc(1,F,2,0,"div",60),t.qZA()),2&a){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.f.thumbnail_image.errors&&i.f.thumbnail_image.errors.required)}}function st(a,e){if(1&a){const i=t.EpF();t.TgZ(0,"div",61)(1,"div",62)(2,"span",63),t.NdJ("click",function(){t.CHM(i);const l=t.oxw();return t.KtG(l.removeImage("thumbnail",l.thumbnailImage.id))}),t._uU(3,"\xd7"),t.qZA(),t._UZ(4,"img",64),t.qZA()()}if(2&a){const i=t.oxw();t.xp6(4),t.Q6J("src",i.thumbnailImage.path,t.LSH)}}function mt(a,e){1&a&&(t.TgZ(0,"div"),t._uU(1," File is required. "),t.qZA())}function pt(a,e){if(1&a&&(t.TgZ(0,"div",59),t.YNc(1,mt,2,0,"div",60),t.qZA()),2&a){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.f.gallery_images.errors&&i.f.gallery_images.errors.required)}}function gt(a,e){if(1&a){const i=t.EpF();t.TgZ(0,"div",61)(1,"div",62)(2,"span",63),t.NdJ("click",function(){const l=t.CHM(i),_=l.$implicit,H=l.index,dt=t.oxw();return t.KtG(dt.removeImage("gallery",_.id,H))}),t._uU(3,"\xd7"),t.qZA(),t._UZ(4,"img",64),t.qZA()()}if(2&a){const i=e.$implicit;t.xp6(4),t.Q6J("src",i.path,t.LSH)}}function ht(a,e){if(1&a&&(t.TgZ(0,"option",65),t._uU(1),t.qZA()),2&a){const i=e.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.name," ")}}function _t(a,e){if(1&a&&(t.TgZ(0,"option",65),t._uU(1),t.qZA()),2&a){const i=e.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.name," ")}}function ft(a,e){1&a&&(t.TgZ(0,"div"),t._uU(1," Category is required. "),t.qZA())}function bt(a,e){if(1&a&&(t.TgZ(0,"div",59),t.YNc(1,ft,2,0,"div",60),t.qZA()),2&a){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.f.category_id.errors&&i.f.category_id.errors.required)}}function vt(a,e){if(1&a){const i=t.EpF();t.TgZ(0,"div",61)(1,"div",62)(2,"span",63),t.NdJ("click",function(){t.CHM(i);const l=t.oxw();return t.KtG(l.removeImage("meta",l.metaImage.id))}),t._uU(3,"\xd7"),t.qZA(),t._UZ(4,"img",64),t.qZA()()}if(2&a){const i=t.oxw();t.xp6(4),t.Q6J("src",i.metaImage.path,t.LSH)}}class M{constructor(e,i,o,l,_,H,dt,kt){this.activatedRoute=e,this.productsService=i,this.categoryService=o,this.router=l,this.calendar=_,this.formatter=H,this.productImageService=dt,this.colorsService=kt,this.range=new r.cw({start:new r.NI(null),end:new r.NI(null)}),this.object=Object,this.date=new Date,this.min=`${this.date.getFullYear()}-${this.date.getMonth(),this.date.getMonth()+1}-${this.date.getDate()}`,this.disabledMetaImageField=!1,this.disabledThumbnailImageField=!1,this.htmlContent1="",this.htmlContent2="",this.editorConfig={editable:!0,spellcheck:!0,height:"auto",minHeight:"0",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}],uploadUrl:"v1/image",uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",toolbarHiddenButtons:[["bold","italic"],["fontSize"]]},this.hoveredDate=null,this.tempImageStorage=[],this.formType="",this.colors=[],this.toDate=null,this.categories=[],this.imageType=void 0,this.galleryImages=[],this.metaImage={},this.thumbnailImage={},this.myForm=new r.nJ({name:new r.p4("",[r.kI.required,r.kI.minLength(3)]),unit:new r.p4(0,[r.kI.required,Y.numeric]),min_qty:new r.p4("",[r.kI.required,Y.numeric]),max_qty:new r.p4("",[r.kI.required,Y.numeric]),thumbnail_image:new r.p4(""),thumbnail:new r.p4(""),color_id:new r.p4(0),gallery_images:new r.p4(""),description:new r.p4(""),galleries:new r.p4([]),id:new r.p4,sku:new r.p4(""),highest_price:new r.p4(0,[r.kI.required]),stock:new r.p4(!0),discount:new r.p4(0),discount_type:new r.p4(""),discount_end_date:new r.p4(""),discount_start_date:new r.p4(""),standary_delivery:new r.p4(0),e_delivery:new r.p4(0),slug:new r.p4(""),meta_image:new r.p4(""),meta:new r.p4(""),published:new r.p4(""),category_id:new r.p4("",r.kI.required),meta_description:new r.p4(""),meta_title:new r.p4(""),weight:new r.p4(0),height:new r.p4(0),length:new r.p4(0),width:new r.p4(0),start:new r.p4(null),end:new r.p4(null),user_id:new r.p4("")}),this.fromDate=_.getToday(),this.toDate=_.getNext(_.getToday(),"d",10)}get f(){return this.myForm.controls}ngOnInit(){this.productId=this.activatedRoute.snapshot.paramMap.get("id"),this.productId?(this.formType="Edit",this.getProductById(this.productId)):this.formType="Add",this.categoryService.get().subscribe(e=>{this.categories=e,this.getColors()})}galleryImageChange(e,i){this.imageType=i;for(const o of e.target.files)this.handleInputChange(o)}getColors(){this.colorsService.getColors().subscribe(e=>{this.colors=e})}thumbnailImageChange(e,i){this.imageType=i;for(const o of e.target.files)this.handleInputChange(o)}metaImageChange(e,i){this.imageType=i;for(const o of e.target.files)this.handleInputChange(o)}submit(){if(this.f.thumbnail_image.setValue(Object.keys(this.thumbnailImage)?1:0),this.f.thumbnail.setValue(this.thumbnailImage.id?"":this.thumbnailImage),this.f.meta.setValue(this.metaImage.id?"":this.metaImage),this.f.meta_image.setValue(Object.keys(this.metaImage)?1:0),this.f.user_id.setValue(676),this.myForm.valid&&"add"===this.formType.toLowerCase())this.f.gallery_images.setValue(this.galleryImages.length?this.galleryImages.length:0),this.f.galleries.setValue(this.galleryImages),this.productsService.addProduct(this.myForm.value).subscribe(e=>{e&&this.router.navigate(["admin/products"])});else if(this.myForm.valid&&"edit"===this.formType.toLowerCase()){if(this.productId){for(let e=0;e<this.galleryImages.length;e++)this.galleryImages[e].id&&(this.galleryImages.splice(e,1),e--);this.f.id.setValue(parseInt(this.productId)),this.f.gallery_images.setValue(this.galleryImages.length?this.galleryImages.length:0),this.f.galleries.setValue(this.galleryImages),this.productsService.editProduct(this.myForm.value).subscribe(e=>{e&&(this.galleryImages=[],this.thumbnailImage={},this.metaImage={},this.myForm.reset(),this.getProductById(this.productId))})}}else this.myForm.markAllAsTouched()}handleInputChange(e){const i=e,o=new FileReader;o.onload=this._handleReaderLoaded.bind(this),o.readAsDataURL(i)}_handleReaderLoaded(e){let i=e.target;"gallery"===this.imageType?this.galleryImages.push({path:i.result}):"thumbnail"===this.imageType?this.thumbnailImage={path:i.result}:"meta"===this.imageType&&(this.metaImage={path:i.result})}removeImage(e,i,o){if(i&&this.productImageService.removeImage(i).subscribe(()=>{}),"gallery"===e?.toLowerCase()&&-1!==o){if(1===this.galleryImages.length||0===this.galleryImages.length)return void(this.galleryImages=[]);this.galleryImages.splice(o,1),this.galleryImages=[...this.galleryImages],Array.from(this.file_list.nativeElement.files).splice(o,1)}else"thumbnail"===e.toLowerCase()?(this.thumbnailImage={},document.getElementById("thumbnail_file").value="",this.disabledThumbnailImageField=!1):"meta"===e.toLowerCase()&&(document.getElementById("meta_file").value="",this.disabledMetaImageField=!1,this.metaImage={})}serFormValue(e){const i={discount:e.discount,discount_type:e.discount_type,express_delivery_time:e.e_delivery,height:e.height,width:e.width,length:e.length,highest_price:e.highest_price,max_qty:e.max_qty,min_qty:e.min_qty,meta_image:e.meta_image,meta_title:e.meta_title,standard_delivery_time:e.standary_delivery,name:e.name,unit:e.unit,weight:e.weight,stock:e.stock,slug:e.slug,photos:e.gallery_images,thumbnail_image:e.thumbnail_image,meta_description:e.meta_description,lowest_price:0,description:e.description,published:!0===e.published?"true":"false",category_id:parseInt(e.category_id),is_variant:!1,has_warranty:!1,tax:"",color_id:parseInt(e.color_id),discount_end_date:e.discount_end_date,discount_start_date:e.discount_start_date,rating:0,earn_point:0,num_of_sale:0};this.myForm.patchValue(i)}onChange(e){}onBlur(e){}onChange2(e){}getProductById(e){this.productsService.getProductById(e).subscribe(i=>{this.serFormValue(i.products),this.tempImageStorage=i.image;for(const o of i.images)"gallery"===o.name?this.galleryImages.push(o):"meta"===o.name?(this.disabledMetaImageField=!0,this.metaImage=o):"thumbnail"===o.name&&(this.disabledThumbnailImageField=!0,this.thumbnailImage=o)})}}M.\u0275fac=function(e){return new(e||M)(t.Y36(m.gz),t.Y36(f),t.Y36(T.H),t.Y36(m.F0),t.Y36($.vL),t.Y36($.NG),t.Y36(v),t.Y36(h))},M.\u0275cmp=t.Xpm({type:M,selectors:[["app-product"]],viewQuery:function(e,i){if(1&e&&t.Gf(rt,5),2&e){let o;t.iGM(o=t.CRH())&&(i.file_list=o.first)}},decls:211,vars:19,consts:[[1,"div","container-fluid","p-3"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-8","p-4","border"],[1,"product_info"],[1,"form-group"],["for","name"],[1,"required","warn","danger"],["formControlName","name","id","name","type","text","placeholder","Product Name",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["formControlName","unit","id","name","type","number","placeholder","Unit 2Pc",1,"form-control"],[1,"required","danger"],["formControlName","min_qty","id","name","type","number","placeholder","1",1,"form-control"],["formControlName","max_qty","id","name","type","number",1,"form-control"],[1,"col-4","p-4","border"],[1,"product_images"],["formControlName","published",1,"form-select"],["value","true","selected",""],["value","false"],[1,"col-8","border","p-4"],["id","thumbnail_file","type","file",1,"form-control",3,"disabled","change"],[1,"bb"],["class","box",4,"ngIf"],["id","gallery_file","type","file","multiple","",1,"form-control",3,"change"],["file_list",""],["class","box",4,"ngFor","ngForOf"],[1,"col-4","border","p-4"],[1,"custom-select"],["formControlName","color_id",1,"form-select"],["selected",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","description",3,"ngModel","config","ngModelChange","blur"],[1,"required"],["formControlName","highest_price","id","name","type","number","placeholder","200",1,"form-control"],["formControlName","sku","id","name","type","text","placeholder","SKU",1,"form-control"],["formControlName","stock",1,"form-select"],["formControlName","category_id",1,"form-select"],["value","0","selected",""],[1,"col-6"],["formControlName","discount_start_date","type","date","id","startDate","name","stertDate",1,"form-control",3,"min"],["formControlName","discount_end_date","type","date","id","endDate","name","endDate",1,"form-control",3,"min"],[1,"col-8"],["formControlName","discount","id","name","type","number","placeholder","0",1,"form-control"],[1,"col-4"],["formControlName","discount_type",1,"form-select"],["value","flat","selected",""],["value","percent"],["formControlName","standary_delivery","id","name","type","number","placeholder","0",1,"form-control"],["formControlName","e_delivery","id","name","type","number","placeholder","0",1,"form-control"],["formControlName","weight","id","name","type","number","placeholder","0",1,"form-control"],["formControlName","height","id","name","type","number","placeholder","0",1,"form-control"],["formControlName","length","id","name","type","text","placeholder","0",1,"form-control"],["formControlName","width","id","name","type","number","placeholder","0",1,"form-control"],["formControlName","meta_title","id","name","type","text",1,"form-control"],["rows","4","cols","50","formControlName","meta_description","id","name","type","text",1,"form-control"],["id","meta_file","type","file",1,"form-control",3,"disabled","change"],["formControlName","slug","id","name","type","text",1,"form-control"],[1,"d-flex","mt-3","justify-content-center"],["type","submit",1,"btn","btn-primary","w-100"],[1,"alert","alert-danger"],[4,"ngIf"],[1,"box"],[1,"image"],[3,"click"],["alt","fll;",3,"src"],[3,"value"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"form",1),t.NdJ("ngSubmit",function(){return i.submit()}),t.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"h2"),t._uU(8,"Product Information"),t.qZA()(),t.TgZ(9,"div",5)(10,"label",6),t._uU(11,"Product Name "),t.TgZ(12,"span",7),t._uU(13,"*"),t.qZA()(),t._UZ(14,"input",8),t.YNc(15,s,3,2,"div",9),t.qZA(),t.TgZ(16,"div",5)(17,"label",6),t._uU(18,"Unit"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.TgZ(20,"div",5)(21,"label",6),t._uU(22,"Minimum Purchase Quantity "),t.TgZ(23,"span",11),t._uU(24,"*"),t.qZA()(),t._UZ(25,"input",12),t.YNc(26,g,3,2,"div",9),t.qZA(),t.TgZ(27,"div",5)(28,"label",6),t._uU(29,"Maximum Purchase Quantity "),t.TgZ(30,"span",11),t._uU(31,"*"),t.qZA()(),t._UZ(32,"input",13),t.YNc(33,C,3,2,"div",9),t.qZA()(),t.TgZ(34,"div",14)(35,"div",15)(36,"h2"),t._uU(37,"Product Status"),t.qZA()(),t.TgZ(38,"div",5)(39,"label",6),t._uU(40,"Status"),t.qZA(),t.TgZ(41,"select",16)(42,"option",17),t._uU(43,"Published"),t.qZA(),t.TgZ(44,"option",18),t._uU(45,"Draft"),t.qZA()()()()(),t.TgZ(46,"div",2)(47,"div",19)(48,"div",15)(49,"h2"),t._uU(50,"Product Images"),t.qZA()(),t.TgZ(51,"div",5)(52,"label",6),t._uU(53,"Thumbnail Image "),t.qZA(),t.TgZ(54,"input",20),t.NdJ("change",function(l){return i.thumbnailImageChange(l,"thumbnail")}),t.qZA(),t.YNc(55,lt,2,1,"div",9),t._UZ(56,"br"),t.TgZ(57,"div",21),t.YNc(58,st,5,1,"div",22),t.qZA()(),t.TgZ(59,"div",5)(60,"label",6),t._uU(61,"Gallery Images "),t.qZA(),t.TgZ(62,"input",23,24),t.NdJ("change",function(l){return i.galleryImageChange(l,"gallery")}),t.qZA(),t.YNc(64,pt,2,1,"div",9),t._UZ(65,"br"),t.TgZ(66,"div",21),t.YNc(67,gt,5,1,"div",25),t.qZA()()(),t.TgZ(68,"div",26)(69,"div",15)(70,"h2"),t._uU(71,"Product Color"),t.qZA()(),t.TgZ(72,"div",5)(73,"label",6),t._uU(74,"Color"),t.qZA(),t.TgZ(75,"div",27)(76,"select",28)(77,"option",29),t._uU(78,"Select"),t.qZA(),t.YNc(79,ht,2,2,"option",30),t.qZA()()()()(),t.TgZ(80,"div",2)(81,"div",19)(82,"div",15)(83,"h2"),t._uU(84,"Product Description"),t.qZA()(),t.TgZ(85,"angular-editor",31),t.NdJ("ngModelChange",function(l){return i.htmlContent1=l})("ngModelChange",function(l){return i.onChange(l)})("blur",function(l){return i.onBlur(l)}),t.qZA()(),t._UZ(86,"div",26),t.qZA(),t.TgZ(87,"div",2)(88,"div",19)(89,"div",15)(90,"h2"),t._uU(91,"Price & Stock"),t.qZA()(),t.TgZ(92,"div",5)(93,"label",6),t._uU(94,"Price "),t.TgZ(95,"span",32),t._uU(96,"*"),t.qZA()(),t._UZ(97,"input",33),t.qZA(),t.TgZ(98,"div",5)(99,"label",6),t._uU(100,"SKU"),t.qZA(),t._UZ(101,"input",34),t.qZA(),t.TgZ(102,"div",5)(103,"label",6),t._uU(104,"Stock "),t.TgZ(105,"span",32),t._uU(106,"*"),t.qZA()(),t.TgZ(107,"select",35)(108,"option",17),t._uU(109,"In Stock"),t.qZA(),t.TgZ(110,"option",18),t._uU(111,"Out Of Stock"),t.qZA()()()(),t.TgZ(112,"div",26)(113,"div",15)(114,"h2"),t._uU(115,"Product Category"),t.qZA()(),t.TgZ(116,"div",5)(117,"label",6),t._uU(118,"Category"),t.qZA(),t.TgZ(119,"select",36)(120,"option",37),t._uU(121,"Select"),t.qZA(),t.YNc(122,_t,2,2,"option",30),t.qZA(),t.YNc(123,bt,2,1,"div",9),t.qZA()()(),t.TgZ(124,"div",2)(125,"div",19)(126,"div",15)(127,"h2"),t._uU(128,"Product Discount"),t.qZA()(),t.TgZ(129,"div",2)(130,"div",38)(131,"label"),t._uU(132,"Start Date"),t.qZA(),t.TgZ(133,"div",5),t._UZ(134,"input",39),t.qZA()(),t.TgZ(135,"div",38)(136,"label"),t._uU(137,"End Date"),t.qZA(),t.TgZ(138,"div",5),t._UZ(139,"input",40),t.qZA()()(),t.TgZ(140,"div",2)(141,"div",41)(142,"div",5)(143,"label",6),t._uU(144,"Discount"),t.qZA(),t._UZ(145,"input",42),t.qZA()(),t.TgZ(146,"div",43)(147,"div",5),t._UZ(148,"label",6),t.TgZ(149,"select",44)(150,"option",45),t._uU(151,"Flat"),t.qZA(),t.TgZ(152,"option",46),t._uU(153,"Percent"),t.qZA()()()()()(),t._UZ(154,"div",26),t.qZA(),t.TgZ(155,"div",2)(156,"div",19)(157,"div",15)(158,"h2"),t._uU(159,"Shipping Information"),t.qZA()(),t.TgZ(160,"div",5)(161,"label",6),t._uU(162,"Standard Delivery Time (hrs)"),t.qZA(),t._UZ(163,"input",47),t.qZA(),t.TgZ(164,"div",5)(165,"label",6),t._uU(166,"Express Delivery Time (hrs)"),t.qZA(),t._UZ(167,"input",48),t.qZA(),t.TgZ(168,"div",5)(169,"label",6),t._uU(170,"Weight (gm)"),t.qZA(),t._UZ(171,"input",49),t.qZA(),t.TgZ(172,"div",5)(173,"label",6),t._uU(174,"Height (cm)"),t.qZA(),t._UZ(175,"input",50),t.qZA(),t.TgZ(176,"div",5)(177,"label",6),t._uU(178,"Length (cm)"),t.qZA(),t._UZ(179,"input",51),t.qZA(),t.TgZ(180,"div",5)(181,"label",6),t._uU(182,"Width (cm)"),t.qZA(),t._UZ(183,"input",52),t.qZA()(),t._UZ(184,"div",26),t.qZA(),t.TgZ(185,"div",2)(186,"div",19)(187,"div",15)(188,"h2"),t._uU(189,"Seo Meta Tags"),t.qZA()(),t.TgZ(190,"div",5)(191,"label",6),t._uU(192,"Meta Title"),t.qZA(),t._UZ(193,"input",53),t.qZA(),t.TgZ(194,"div",5)(195,"label",6),t._uU(196,"Meta Description"),t.qZA(),t._UZ(197,"textarea",54),t.qZA(),t.TgZ(198,"div",5)(199,"label",6),t._uU(200,"Meta Image"),t.qZA(),t.TgZ(201,"input",55),t.NdJ("change",function(l){return i.metaImageChange(l,"meta")}),t.qZA(),t.TgZ(202,"div",21),t.YNc(203,vt,5,1,"div",22),t.qZA()(),t.TgZ(204,"div",5)(205,"label",6),t._uU(206,"Slug"),t.qZA(),t._UZ(207,"input",56),t.qZA()()(),t.TgZ(208,"div",57)(209,"button",58),t._uU(210,"Submit"),t.qZA()()()()),2&e&&(t.xp6(2),t.hij("",i.formType," Product"),t.xp6(1),t.Q6J("formGroup",i.myForm),t.xp6(12),t.Q6J("ngIf",i.f.name.touched&&i.f.name.invalid),t.xp6(11),t.Q6J("ngIf",i.f.min_qty.touched&&i.f.min_qty.invalid),t.xp6(7),t.Q6J("ngIf",i.f.max_qty.touched&&i.f.max_qty.invalid),t.xp6(21),t.Q6J("disabled",i.disabledThumbnailImageField),t.xp6(1),t.Q6J("ngIf",i.f.thumbnail_image.touched&&i.f.thumbnail_image.invalid),t.xp6(3),t.Q6J("ngIf",i.thumbnailImage.path),t.xp6(6),t.Q6J("ngIf",i.f.gallery_images.touched&&i.f.gallery_images.invalid),t.xp6(3),t.Q6J("ngForOf",i.galleryImages),t.xp6(12),t.Q6J("ngForOf",i.colors),t.xp6(6),t.Q6J("ngModel",i.htmlContent1)("config",i.editorConfig),t.xp6(37),t.Q6J("ngForOf",i.categories),t.xp6(1),t.Q6J("ngIf",i.f.category_id.touched&&i.f.category_id.invalid),t.xp6(11),t.Q6J("min",i.min),t.xp6(5),t.Q6J("min",i.min),t.xp6(62),t.Q6J("disabled",i.disabledMetaImageField),t.xp6(2),t.Q6J("ngIf",i.metaImage.path))},dependencies:[n.sg,n.O5,r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r.JJ,r.JL,K.s6,r.sg,r.u],styles:[".mat-form-field[_ngcontent-%COMP%]{width:100%}.primary[_ngcontent-%COMP%]{border-radius:50px}.file-input[_ngcontent-%COMP%]{display:none}.image-fit[_ngcontent-%COMP%]{max-height:100%;width:100%;object-fit:cover}.thumb[_ngcontent-%COMP%]{height:52px}.image[_ngcontent-%COMP%]{margin-right:15px;height:75px;position:relative;margin-bottom:8px}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:5px;object-fit:cover}.box[_ngcontent-%COMP%]{width:100%;height:auto;display:flex;justify-content:flex-start;align-items:flex-start;flex-wrap:wrap;max-height:200px;overflow-y:auto;margin-top:10px}.box[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:-2px;right:9px;font-size:20px;cursor:pointer}.bb[_ngcontent-%COMP%]{display:flex;height:auto;padding:10px;border-radius:5px;overflow:hidden;object-fit:cover}  .custom-day{text-align:center;padding:.185rem .25rem;display:inline-block;height:2rem;width:2rem}  .custom-day .range, .custom-day[_ngcontent-%COMP%]:hover{background-color:#0275d8;color:#fff}mat-icon[_ngcontent-%COMP%]{margin-right:0!important;vertical-align:middle}"]});var ct=d(3848);function yt(a,e){if(1&a&&(t.TgZ(0,"a",2,3),t._uU(2),t.qZA()),2&a){const i=e.$implicit,o=t.oxw();t.Q6J("routerLink",i.link)("active",o.activeLinkIndex===i.index),t.xp6(2),t.hij(" ",i.label,"")}}class L{constructor(e,i){this.router=e,this.activatedroute=i,this.navLinks=[],this.activeLinkIndex=-1,this.navLinks=[{label:"Products",link:"./list",activeClass:["./list","category/add","category/edit"],index:0},{label:"Categories",link:"./category",activeClass:["./category","category/edit","category/add"],index:1},{label:"Attributes",link:"./attributes-list",activeClass:["./attributes-list","attributes/add","attributes/edit"],index:2},{label:"Colors",link:"./color-list",activeClass:["./color-list","color/add"],index:3}],this.activatedroute.url.subscribe(o=>{const l=this.navLinks.find(_=>{for(const H of _.activeClass)return void H.split(".")});l&&(this.activeLinkIndex=this.navLinks.indexOf(l))})}ngOnInit(){this.router.events.subscribe(e=>{if(e){const i=this.navLinks.find(o=>`/admin/products${o.link.split(".")[1]}`===this.router.url);this.activeLinkIndex=i?this.navLinks.indexOf(i):0}})}}L.\u0275fac=function(e){return new(e||L)(t.Y36(m.F0),t.Y36(m.gz))},L.\u0275cmp=t.Xpm({type:L,selectors:[["app-products"]],decls:4,vars:1,consts:[["mat-tab-nav-bar",""],["mat-tab-link","","routerLinkActive","",3,"routerLink","active",4,"ngFor","ngForOf"],["mat-tab-link","","routerLinkActive","",3,"routerLink","active"],["rla","routerLinkActive"]],template:function(e,i){1&e&&(t.TgZ(0,"div")(1,"nav",0),t.YNc(2,yt,3,3,"a",1),t.qZA()(),t._UZ(3,"router-outlet")),2&e&&(t.xp6(2),t.Q6J("ngForOf",i.navLinks))},dependencies:[n.sg,ct.BU,ct.Nj,m.lC,m.rH,m.Od]});class E{}E.\u0275fac=function(e){return new(e||E)},E.\u0275cmp=t.Xpm({type:E,selectors:[["app-quantity"]],decls:0,vars:0,template:function(e,i){},styles:[".mat-form-field[_ngcontent-%COMP%], .example-full-width[_ngcontent-%COMP%]{width:100%}.primary[_ngcontent-%COMP%]{border-radius:50px}"]});class V{constructor(){this.tableData=[],this.firstInResponse=[],this.lastInResponse=[],this.prev_strt_at=[],this.pagination_clicked_count=0,this.disable_next=!1,this.disable_prev=!1}}V.\u0275fac=function(e){return new(e||V)},V.\u0275cmp=t.Xpm({type:V,selectors:[["app-size"]],decls:0,vars:0,template:function(e,i){},styles:[".mat-form-field[_ngcontent-%COMP%], .example-full-width[_ngcontent-%COMP%]{width:100%}.primary[_ngcontent-%COMP%]{border-radius:50px}"]});class R{}R.\u0275fac=function(e){return new(e||R)},R.\u0275cmp=t.Xpm({type:R,selectors:[["app-category"]],decls:0,vars:0,template:function(e,i){},styles:[".mat-form-field[_ngcontent-%COMP%], .example-full-width[_ngcontent-%COMP%]{width:100%}.primary[_ngcontent-%COMP%]{border-radius:50px}"]});const Ct=function(){return[5,25,100]};class B{constructor(e,i){this.router=e,this.productService=i,this.introText="Button actions and payloads come here in textual form",this.totalVolume=0,this.totalRides=0,this.data=[],this.footer="",this.columns=[{columnDef:"id",header:"#",cell:o=>`${o.id?o.id:""}`},{columnDef:"p_name",header:"Name",cell:o=>`${o.p_name?o.p_name:""}`},{columnDef:"info",header:"Info",cell:o=>`${o.info?o.info:""}`},{columnDef:"c_name",header:"Categories",cell:o=>`${o.c_name?o.c_name:""}`},{columnDef:"best_seller",header:"Best Seller",cell:o=>`${!!o.best_seller&&o.best_seller}`},{columnDef:"published",header:"Published",cell:o=>`${!!o.published&&o.published}`}],this.buttons=[{styleClass:"px-2",icon:"edit",payload:o=>`${o.id?o.id:""}`,action:"edit"},{styleClass:"px-2",icon:"delete",payload:o=>`${o.id?o.id:""}`,action:"delete"}]}ngOnInit(){this.getProductsData()}applyFilter(e){this.totalVolume=0,this.totalRides=0,this.footer=`Total volume: ${this.totalVolume}m\xb3 / trips: ${this.totalRides}`}buttonClick(e){"edit"===e[0]?this.router.navigate(["/admin/products/edit",e[1]]):"delete"===e[0]&&this.productService.deleteById(e[1]).subscribe(()=>{this.getProductsData()})}goToRoute(){this.router.navigate(["/admin/products/add"])}getProductsData(){this.productService.getProducts().subscribe(e=>{this.data=e})}onPubilshedChange(e){"published"===e[2]?this.productService.publishProduct({published:e[0].checked,id:e[1]}).subscribe(()=>{}):this.productService.bestSellerProduct({best_seller:e[0].checked,id:e[1]}).subscribe(()=>{})}}B.\u0275fac=function(e){return new(e||B)(t.Y36(m.F0),t.Y36(f))},B.\u0275cmp=t.Xpm({type:B,selectors:[["app-product-list"]],decls:10,vars:10,consts:[[1,"d-flex","p-3","justify-content-between","align-items-center"],[1,"p-3"],[1,"d-flex","justify-content-end","p-3"],["mat-raised-button","",1,"btn",3,"click"],[3,"columns","buttons","data","filter","filterPlaceholder","footer","pagination","pageSize","tableMinWidth","filteredData","buttonClick","publishChangeEvent"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1"),t._uU(3,"Products"),t.qZA()(),t.TgZ(4,"div",2)(5,"button",3),t.NdJ("click",function(){return i.goToRoute()}),t.TgZ(6,"mat-icon"),t._uU(7,"add"),t.qZA(),t._uU(8,"Add Product "),t.qZA()()(),t.TgZ(9,"app-generic-table",4),t.NdJ("filteredData",function(l){return i.applyFilter(l)})("buttonClick",function(l){return i.buttonClick(l)})("publishChangeEvent",function(l){return i.onPubilshedChange(l)}),t.qZA()),2&e&&(t.xp6(9),t.Q6J("columns",i.columns)("buttons",i.buttons)("data",i.data)("filter",!0)("filterPlaceholder","Filter any value")("footer",i.footer)("pagination",t.DdM(9,Ct))("pageSize",5)("tableMinWidth",400))},dependencies:[x.p,A.Hw,I.lW]});var Zt=d(3905);class Z{constructor(e){this.baseService=e}add(e){return this.baseService.post("attributes",e)}update(e,i){return this.baseService.put(`attributes/${e}`,i)}get(){return this.baseService.get("attributes")}getById(e){return this.baseService.get(`attributes/${e}`)}delete(e){return this.baseService.delete(`attributes/${e}`)}}function Tt(a,e){if(1&a&&(t.TgZ(0,"option",18),t._uU(1),t.qZA()),2&a){const i=e.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.name," ")}}function xt(a,e){if(1&a&&(t.TgZ(0,"option",18),t._uU(1),t.qZA()),2&a){const i=e.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.name," ")}}function At(a,e){if(1&a){const i=t.EpF();t.TgZ(0,"div",19)(1,"div",20)(2,"span",21),t.NdJ("click",function(){t.CHM(i);const l=t.oxw();return t.KtG(l.removeImage("baner",l.banerImage.id))}),t._uU(3,"\xd7"),t.qZA(),t._UZ(4,"img",22),t.qZA()()}if(2&a){const i=t.oxw();t.xp6(4),t.Q6J("src",i.banerImage.path,t.LSH)}}function It(a,e){if(1&a){const i=t.EpF();t.TgZ(0,"div",19)(1,"div",20)(2,"span",21),t.NdJ("click",function(){t.CHM(i);const l=t.oxw();return t.KtG(l.removeImage("meta",l.metaImage.id))}),t._uU(3,"\xd7"),t.qZA(),t._UZ(4,"img",22),t.qZA()()}if(2&a){const i=t.oxw();t.xp6(4),t.Q6J("src",i.metaImage.path,t.LSH)}}Z.\u0275fac=function(e){return new(e||Z)(t.LFG(q.b))},Z.\u0275prov=t.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"});class D{constructor(e,i,o,l,_){this.categoryService=e,this.uploadService=i,this.router=o,this.activatedRoute=l,this.attributesService=_,this.imageType=void 0,this.metaImage={},this.banerImage={},this.attributes=[],this.formType="Add",this.categoryData=[],this.myForm=new r.nJ({meta_description:new r.p4(""),id:new r.p4(""),meta_title:new r.p4(""),order_level:new r.p4(0),parent_id:new r.p4(0),name:new r.p4(""),level:new r.p4(0),meta_image_path:new r.p4(""),baner_image_path:new r.p4,meta_image:new r.p4(0),banner:new r.p4(0),attribute_id:new r.p4(0)}),this.getAttributesData()}ngOnInit(){this.categoryService.get().subscribe(e=>{this.categoryData=e}),this.productId=this.activatedRoute.snapshot.paramMap.get("id"),this.productId&&(this.formType="Edit",this.categoryService.getCategoryById(this.productId).subscribe(e=>{this.setFormData(e);for(const i of e.images)"category_baner"===i.name?this.banerImage={path:i.path,id:i.id}:"category_meta"===i.name&&(this.metaImage={path:i.path,id:i.id})}))}imageChange(e,i){this.imageType=i,this.handleInputChange(e.target.files[0])}getAttributesData(){this.attributesService.get().subscribe(e=>{this.attributes=e})}handleInputChange(e){const i=e,o=new FileReader;o.onload=this._handleReaderLoaded.bind(this),o.readAsDataURL(i)}_handleReaderLoaded(e){let i=e.target;"baner"===this.imageType?this.banerImage={path:i.result}:"meta"===this.imageType&&(this.metaImage={path:i.result})}get f(){return this.myForm.controls}removeImage(e,i){this.productId?"baner"===e&&i?(this.f.baner_image_path.setValue(""),this.banerImage={},document.getElementById("baner_file").value="",this.uploadService.deleteFile(i).subscribe({})):"meta"===e&&i&&(this.metaImage={},document.getElementById("meta_file").value="",this.f.meta_image_path.setValue(""),this.uploadService.deleteFile(i).subscribe({})):"baner"===e?(this.banerImage={},document.getElementById("baner_file").value=""):"meta"===e&&(this.metaImage={},document.getElementById("meta_file").value="")}submit(){this.f.meta_image.setValue(Object.keys(this.metaImage)?1:0),this.f.banner.setValue(Object.keys(this.banerImage)?1:0),this.f.baner_image_path.setValue(this.banerImage.path),this.f.meta_image_path.setValue(this.metaImage.path),this.myForm.valid&&"Add"===this.formType?this.categoryService.addCategory(this.myForm.value).subscribe(e=>{e&&this.router.navigate(["/admin/products/category"])}):this.myForm.valid&&"Edit"===this.formType&&(this.f.id.setValue(this.productId),this.categoryService.updateCategory(this.myForm.value).subscribe(e=>{this.router.navigate(["/admin/products/category"])}))}setFormData(e){this.myForm.patchValue(e)}}D.\u0275fac=function(e){return new(e||D)(t.Y36(T.H),t.Y36(Zt.C),t.Y36(m.F0),t.Y36(m.gz),t.Y36(Z))},D.\u0275cmp=t.Xpm({type:D,selectors:[["app-add-category"]],decls:46,vars:6,consts:[[1,"div","container-fluid","p-3"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group"],["for","name"],["formControlName","name","id","name","type","text","placeholder","Name",1,"form-control"],["formControlName","parent_id",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["formControlName","attribute_id","multiple","",1,"form-select"],["formControlName","order_level","id","name","type","number","placeholder","0",1,"form-control"],["id","baner_file","type","file",1,"form-control",3,"change"],[1,"bb"],["class","box",4,"ngIf"],["formControlName","meta_title","id","name","type","text",1,"form-control"],["rows","4","cols","50","formControlName","meta_description","id","name","type","text",1,"form-control"],["id","meta_file","type","file",1,"form-control",3,"change"],[1,"d-flex","mt-3","justify-content-center"],["type","submit",1,"btn","btn-primary","w-100"],[3,"value"],[1,"box"],[1,"image"],[3,"click"],["alt","fll;",3,"src"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"form",1),t.NdJ("ngSubmit",function(){return i.submit()}),t.TgZ(4,"div",2)(5,"div",3)(6,"label",4),t._uU(7,"Name"),t.qZA(),t._UZ(8,"input",5),t.qZA(),t.TgZ(9,"div",3)(10,"label",4),t._uU(11,"Parent Category"),t.qZA(),t.TgZ(12,"select",6),t.YNc(13,Tt,2,2,"option",7),t.qZA()(),t.TgZ(14,"div",3)(15,"label",4),t._uU(16,"Attribute"),t.qZA(),t.TgZ(17,"select",8),t.YNc(18,xt,2,2,"option",7),t.qZA()(),t.TgZ(19,"div",3)(20,"label",4),t._uU(21,"Order Number"),t.qZA(),t._UZ(22,"input",9),t.qZA(),t.TgZ(23,"div",3)(24,"label",4),t._uU(25,"Baner"),t.qZA(),t.TgZ(26,"input",10),t.NdJ("change",function(l){return i.imageChange(l,"baner")}),t.qZA(),t.TgZ(27,"div",11),t.YNc(28,At,5,1,"div",12),t.qZA()(),t.TgZ(29,"div",3)(30,"label",4),t._uU(31,"Meta Title"),t.qZA(),t._UZ(32,"input",13),t.qZA(),t.TgZ(33,"div",3)(34,"label",4),t._uU(35,"Meta Description"),t.qZA(),t._UZ(36,"textarea",14),t.qZA(),t.TgZ(37,"div",3)(38,"label",4),t._uU(39,"Meta Image"),t.qZA(),t.TgZ(40,"input",15),t.NdJ("change",function(l){return i.imageChange(l,"meta")}),t.qZA(),t.TgZ(41,"div",11),t.YNc(42,It,5,1,"div",12),t.qZA()()(),t.TgZ(43,"div",16)(44,"button",17),t._uU(45,"Submit"),t.qZA()()()()),2&e&&(t.xp6(2),t.hij("",i.formType," Category"),t.xp6(1),t.Q6J("formGroup",i.myForm),t.xp6(10),t.Q6J("ngForOf",i.categoryData),t.xp6(5),t.Q6J("ngForOf",i.attributes),t.xp6(10),t.Q6J("ngIf",i.banerImage.path),t.xp6(14),t.Q6J("ngIf",i.metaImage.path))},dependencies:[n.sg,n.O5,r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r.K7,r.JJ,r.JL,r.sg,r.u],styles:[".mat-form-field[_ngcontent-%COMP%]{width:100%}.primary[_ngcontent-%COMP%]{border-radius:50px}.file-input[_ngcontent-%COMP%]{display:none}.image-fit[_ngcontent-%COMP%]{max-height:100%;width:100%;object-fit:cover}.thumb[_ngcontent-%COMP%]{height:52px}.image[_ngcontent-%COMP%]{margin-right:15px;height:75px;position:relative;margin-bottom:8px}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:5px;object-fit:cover}.box[_ngcontent-%COMP%]{width:100%;height:auto;display:flex;justify-content:flex-start;align-items:flex-start;flex-wrap:wrap;max-height:200px;overflow-y:auto;margin-top:10px}.box[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:-2px;right:9px;font-size:20px;cursor:pointer}.bb[_ngcontent-%COMP%]{display:flex;height:auto;padding:10px;border-radius:5px;overflow:hidden;object-fit:cover}  .custom-day{text-align:center;padding:.185rem .25rem;display:inline-block;height:2rem;width:2rem}  .custom-day .range, .custom-day[_ngcontent-%COMP%]:hover{background-color:#0275d8;color:#fff}"]});class O{constructor(e,i,o){this.router=e,this.attributesService=i,this.activatedRoute=o,this.attributeId="",this.formType="Add",this.myForm=new r.cw({name:new r.NI("",r.kI.required),type:new r.NI("",r.kI.required)}),this.attributeId=this.activatedRoute.snapshot.paramMap.get("id")}ngOnInit(){this.attributeId&&(this.formType="Edit",this.attributesService.getById(this.attributeId).subscribe(e=>{this.myForm.patchValue(e)}))}submit(){this.myForm.valid&&!this.attributeId?this.attributesService.add(this.myForm.value).subscribe(e=>{}):this.attributeId&&this.attributesService.update(this.attributeId,this.myForm.value).subscribe(e=>{})}}O.\u0275fac=function(e){return new(e||O)(t.Y36(m.F0),t.Y36(Z),t.Y36(m.gz))},O.\u0275cmp=t.Xpm({type:O,selectors:[["app-attributes"]],decls:15,vars:2,consts:[[1,"div","container-fluid","p-3"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["formControlName","name","id","name","type","text","placeholder","Name",1,"form-control"],["formControlName","type","id","name","type","text","placeholder","Type",1,"form-control"],[1,"d-flex","mt-3","justify-content-center"],["type","submit",1,"btn","btn-primary","w-100"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"form",1),t.NdJ("ngSubmit",function(){return i.submit()}),t.TgZ(4,"div",2)(5,"label",3),t._uU(6,"Name"),t.qZA(),t._UZ(7,"input",4),t.qZA(),t.TgZ(8,"div",2)(9,"label",3),t._uU(10,"Type"),t.qZA(),t._UZ(11,"input",5),t.qZA(),t.TgZ(12,"div",6)(13,"button",7),t._uU(14,"Submit"),t.qZA()()()()),2&e&&(t.xp6(2),t.hij("",i.formType," Category"),t.xp6(1),t.Q6J("formGroup",i.myForm))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u]});const wt=function(){return[5,25,100]};class G{constructor(e,i){this.router=e,this.attributesService=i,this.introText="Button actions and payloads come here in textual form",this.totalVolume=0,this.totalRides=0,this.data=[],this.footer="",this.attributes=[],this.columns=[{columnDef:"id",header:"#",cell:o=>`${o.id?o.id:""}`},{columnDef:"name",header:"Name",cell:o=>`${o.name?o.name:""}`},{columnDef:"type",header:"Type",cell:o=>`${o.type?o.type:""}`}],this.buttons=[{styleClass:"px-2",icon:"settings_input_component",payload:o=>`${o.id?o.id:""}`,action:"config"},{styleClass:"px-2",icon:"edit",payload:o=>`${o.id?o.id:""}`,action:"edit"}]}ngOnInit(){this.getAttributes()}applyFilter(e){this.totalVolume=0,this.totalRides=0,this.footer=`Total volume: ${this.totalVolume}m\xb3 / trips: ${this.totalRides}`}buttonClick(e){"edit"===e[0]?this.router.navigate(["/admin/products/attributes/edit",e[1]]):"delete"===e[0]?this.attributesService.delete(e[1]).subscribe():"config"===e[0]&&this.router.navigate(["/admin/products/attribute/value/add",e[1]])}goToRoute(){this.router.navigate(["/admin/products/attributes/add"])}onPubilshedChange(e){}getAttributes(){this.attributesService.get().subscribe(e=>{this.attributes=e,this.data=this.attributes})}}G.\u0275fac=function(e){return new(e||G)(t.Y36(m.F0),t.Y36(Z))},G.\u0275cmp=t.Xpm({type:G,selectors:[["app-attributes-list"]],decls:10,vars:10,consts:[[1,"d-flex","p-3","justify-content-between","align-items-center"],[1,"p-3"],[1,"fw-bold"],[1,"d-flex","justify-content-end","p-3"],["mat-raised-button","",1,"btn",3,"click"],[3,"columns","buttons","data","filter","filterPlaceholder","footer","pagination","pageSize","tableMinWidth","filteredData","buttonClick","publishChangeEvent"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3,"Attributes"),t.qZA()(),t.TgZ(4,"div",3)(5,"button",4),t.NdJ("click",function(){return i.goToRoute()}),t.TgZ(6,"mat-icon"),t._uU(7,"add"),t.qZA(),t._uU(8,"Add Attribute "),t.qZA()()(),t.TgZ(9,"app-generic-table",5),t.NdJ("filteredData",function(l){return i.applyFilter(l)})("buttonClick",function(l){return i.buttonClick(l)})("publishChangeEvent",function(l){return i.onPubilshedChange(l)}),t.qZA()),2&e&&(t.xp6(9),t.Q6J("columns",i.columns)("buttons",i.buttons)("data",i.data)("filter",!0)("filterPlaceholder","Filter any value")("footer",i.footer)("pagination",t.DdM(9,wt))("pageSize",5)("tableMinWidth",400))},dependencies:[x.p,A.Hw,I.lW]});class J{constructor(e){this.baseService=e}add(e){return this.baseService.post("attribute-value",e)}update(e){return this.baseService.put("attribute-value",e)}get(){return this.baseService.get("attribute-value")}getById(e){return this.baseService.get(`attribute-value/${e}`)}delete(e){return this.baseService.delete(`attribute-value/${e}`)}}J.\u0275fac=function(e){return new(e||J)(t.LFG(q.b))},J.\u0275prov=t.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"});const qt=function(){return[5,25,100]};class j{constructor(e,i,o){this.activatedRoute=e,this.router=i,this.attributeValueService=o,this.formType="Add",this.footer="Attribute Value",this.totalVolume=0,this.totalRides=0,this.data=[],this.attributeId="",this.myForm=new r.cw({name:new r.NI("",r.kI.required)}),this.attributeId=this.activatedRoute.snapshot.paramMap.get("id"),this.columns=[{columnDef:"id",header:"#",cell:l=>`${l.id?l.id:""}`},{columnDef:"name",header:"Name",cell:l=>`${l.name?l.name:""}`}],this.buttons=[{styleClass:"px-2",icon:"delete",payload:l=>`${l.id?l.id:""}`,action:"delete"}]}ngOnInit(){this.getAttributesValue()}submit(){if(this.myForm.valid){const e={...this.myForm.value,attribute_id:this.attributeId};this.attributeValueService.add(e).subscribe(i=>{i&&this.getAttributesValue()})}}getAttributesValue(){this.attributeValueService.get().subscribe(e=>{this.data=e})}buttonClick(e){"delete"===e[0]&&this.attributeValueService.delete(e[1]).subscribe(()=>{this.getAttributesValue()})}goToRoute(){this.router.navigate(["/admin/products/attributes/add"])}onPubilshedChange(e){}}j.\u0275fac=function(e){return new(e||j)(t.Y36(m.gz),t.Y36(m.F0),t.Y36(J))},j.\u0275cmp=t.Xpm({type:j,selectors:[["app-attribute-value"]],decls:12,vars:11,consts:[[1,"div","container-fluid","p-3"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["formControlName","name","id","name","type","text","placeholder","Name",1,"form-control"],[1,"d-flex","mt-3","justify-content-center"],["type","submit",1,"btn","btn-primary","w-100"],[3,"columns","buttons","data","filter","filterPlaceholder","pagination","pageSize","tableMinWidth","buttonClick","publishChangeEvent"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"form",1),t.NdJ("ngSubmit",function(){return i.submit()}),t.TgZ(4,"div",2)(5,"label",3),t._uU(6,"Name"),t.qZA(),t._UZ(7,"input",4),t.qZA(),t.TgZ(8,"div",5)(9,"button",6),t._uU(10,"Submit"),t.qZA()()()(),t.TgZ(11,"app-generic-table",7),t.NdJ("buttonClick",function(l){return i.buttonClick(l)})("publishChangeEvent",function(l){return i.onPubilshedChange(l)}),t.qZA()),2&e&&(t.xp6(2),t.hij("",i.formType," Attribute Value"),t.xp6(1),t.Q6J("formGroup",i.myForm),t.xp6(8),t.Q6J("columns",i.columns)("buttons",i.buttons)("data",i.data)("filter",!0)("filterPlaceholder","Filter any value")("pagination",t.DdM(10,qt))("pageSize",5)("tableMinWidth",400))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,x.p,r.sg,r.u],styles:["th[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{width:33%!important}"]});const Pt=function(){return[5,25,100]};class z{constructor(e,i){this.router=e,this.colorsService=i,this.introText="Button actions and payloads come here in textual form",this.totalVolume=0,this.totalRides=0,this.data=[],this.footer="",this.attributes=[],this.columns=[{columnDef:"id",header:"#",cell:o=>`${o.id?o.id:""}`},{columnDef:"name",header:"Name",cell:o=>`${o.name?o.name:""}`},{columnDef:"value",header:"Value",cell:o=>`${o.value?o.value:""}`},{columnDef:"status",header:"Status",cell:o=>`${!!o.status&&o.status}`}],this.buttons=[{styleClass:"px-2",icon:"delete",payload:o=>`${o.id?o.id:""}`,action:"delete"},{styleClass:"px-2",icon:"edit",payload:o=>`${o.id?o.id:""}`,action:"edit"}]}ngOnInit(){this.getAttributes()}applyFilter(e){this.totalVolume=0,this.totalRides=0,this.footer=`Total volume: ${this.totalVolume}m\xb3 / trips: ${this.totalRides}`}buttonClick(e){"edit"===e[0]?this.router.navigate(["/admin/products/color/edit",e[1]]):"delete"===e[0]&&this.colorsService.deleteById(e[1]).subscribe()}goToRoute(){this.router.navigate(["/admin/products/color"])}onPubilshedChange(e){}getAttributes(){this.colorsService.getColors().subscribe(e=>{this.attributes=e,this.data=this.attributes})}}z.\u0275fac=function(e){return new(e||z)(t.Y36(m.F0),t.Y36(h))},z.\u0275cmp=t.Xpm({type:z,selectors:[["app-color-list"]],decls:10,vars:10,consts:[[1,"d-flex","p-3","justify-content-between","align-items-center"],[1,"p-3"],[1,"fw-bold"],[1,"d-flex","justify-content-end","p-3"],["mat-raised-button","",1,"btn",3,"click"],[3,"columns","buttons","data","filter","filterPlaceholder","footer","pagination","pageSize","tableMinWidth","filteredData","buttonClick","publishChangeEvent"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3,"Colors"),t.qZA()(),t.TgZ(4,"div",3)(5,"button",4),t.NdJ("click",function(){return i.goToRoute()}),t.TgZ(6,"mat-icon"),t._uU(7,"add"),t.qZA(),t._uU(8,"Add Color "),t.qZA()()(),t.TgZ(9,"app-generic-table",5),t.NdJ("filteredData",function(l){return i.applyFilter(l)})("buttonClick",function(l){return i.buttonClick(l)})("publishChangeEvent",function(l){return i.onPubilshedChange(l)}),t.qZA()),2&e&&(t.xp6(9),t.Q6J("columns",i.columns)("buttons",i.buttons)("data",i.data)("filter",!0)("filterPlaceholder","Filter any value")("footer",i.footer)("pagination",t.DdM(9,Pt))("pageSize",5)("tableMinWidth",400))},dependencies:[x.p,A.Hw,I.lW]});const St=[{path:"",component:L,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:B},{path:"add",component:M},{path:"edit/:id",component:M},{path:"color",component:b},{path:"color/edit/:id",component:b},{path:"color-list",component:z},{path:"add/description",component:P},{path:"category",component:w},{path:"category/add",component:D},{path:"category/edit/:id",component:D},{path:"category/add/subcategory",component:R},{path:"attributes/add",component:O},{path:"attribute/value/add/:id",component:j},{path:"attributes/edit/:id",component:O},{path:"attributes-list",component:G},{path:"add/size",component:V},{path:"add/discount",component:S},{path:"add/quantity",component:E},{path:"add/brand",component:p}]}];class k{}k.\u0275fac=function(e){return new(e||k)},k.\u0275mod=t.oAB({type:k}),k.\u0275inj=t.cJS({imports:[m.Bz.forChild(St),m.Bz]});var Ut=d(9549),Ft=d(4385),Nt=d(5412),Mt=d(4144),Dt=d(6329),Ot=d(9602),Jt=d(3238);class Q{}Q.\u0275fac=function(e){return new(e||Q)},Q.\u0275mod=t.oAB({type:Q}),Q.\u0275inj=t.cJS({imports:[n.ez,r.u5,K.UM,Ot.FA,$.M,Jt.XK,Dt.m,ct.Nh,r.UX,A.Ps,Ut.lN,Mt.c,Ft.LD,I.ot,Nt.Is,k]})},2184:(ut,W,d)=>{d.d(W,{p:()=>U});var n=d(4650),m=d(8739),t=d(6308),p=d(671),T=d(6895),x=d(9101),A=d(7392),I=d(455);function tt(s,u){if(1&s&&(n.TgZ(0,"th",13),n._uU(1),n.qZA()),2&s){const c=n.oxw().$implicit;n.xp6(1),n.hij(" ",c.header," ")}}function w(s,u){if(1&s&&(n.ynx(0),n._uU(1),n.BQk()),2&s){const c=n.oxw().$implicit,g=n.oxw().$implicit;n.xp6(1),n.hij(" ",g.cell(c)," ")}}function r(s,u){if(1&s){const c=n.EpF();n.ynx(0),n.TgZ(1,"mat-slide-toggle",15),n.NdJ("change",function(N){n.CHM(c);const y=n.oxw().$implicit,C=n.oxw().$implicit,F=n.oxw();return n.KtG(F.publishChangeEvent.emit([N,y.id,C.columnDef]))}),n.qZA(),n.BQk()}if(2&s){const c=n.oxw().$implicit,g=n.oxw().$implicit;n.xp6(1),n.Q6J("checked",g.cell(c))}}function q(s,u){if(1&s){const c=n.EpF();n.ynx(0),n.TgZ(1,"mat-slide-toggle",15),n.NdJ("change",function(N){n.CHM(c);const y=n.oxw().$implicit,C=n.oxw().$implicit,F=n.oxw();return n.KtG(F.publishChangeEvent.emit([N,y.id,C.columnDef]))}),n.qZA(),n.BQk()}if(2&s){const c=n.oxw().$implicit,g=n.oxw().$implicit;n.xp6(1),n.Q6J("checked",g.cell(c))}}function h(s,u){if(1&s&&(n.ynx(0),n._UZ(1,"img",16),n.BQk()),2&s){const c=n.oxw().$implicit,g=n.oxw().$implicit;n.xp6(1),n.Q6J("src",g.cell(c),n.LSH)}}function et(s,u){if(1&s&&(n.TgZ(0,"td",14),n.YNc(1,w,2,1,"ng-container",8),n.YNc(2,r,2,1,"ng-container",8),n.YNc(3,q,2,1,"ng-container",8),n.YNc(4,h,2,1,"ng-container",8),n.qZA()),2&s){const c=n.oxw().$implicit;n.xp6(1),n.Q6J("ngIf","path"!==c.columnDef&&"published"!==c.columnDef&&"featured"!==c.columnDef&&"best_seller"!==c.columnDef),n.xp6(1),n.Q6J("ngIf","published"===c.columnDef||"best_seller"===c.columnDef),n.xp6(1),n.Q6J("ngIf","featured"===c.columnDef),n.xp6(1),n.Q6J("ngIf","path"===c.columnDef)}}function it(s,u){if(1&s&&(n.ynx(0)(1,10),n.YNc(2,tt,2,1,"th",11),n.YNc(3,et,5,4,"td",12),n.BQk()()),2&s){const c=u.$implicit;n.xp6(1),n.s9C("matColumnDef",c.columnDef)}}function nt(s,u){1&s&&n._UZ(0,"th",21)}function ot(s,u){if(1&s){const c=n.EpF();n.TgZ(0,"div",24)(1,"button",25),n.NdJ("click",function(){const y=n.CHM(c).$implicit,C=n.oxw(),F=C.$implicit,lt=C.index,st=n.oxw(2);return n.KtG(st.buttonClick.emit([y.action,y.payload(F),lt]))}),n.TgZ(2,"mat-icon"),n._uU(3),n.qZA()()()}if(2&s){const c=u.$implicit;n.xp6(1),n.Tol(c.styleClass),n.xp6(2),n.Oqu(c.icon)}}const at=function(s){return{height:"80px","min-width":s}};function b(s,u){if(1&s&&(n.TgZ(0,"td",22),n.YNc(1,ot,4,4,"div",23),n.qZA()),2&s){const c=n.oxw(2);n.Q6J("ngStyle",n.VKq(2,at,"calc(55px * "+c.buttons.length+")")),n.xp6(1),n.Q6J("ngForOf",c.buttons)}}function P(s,u){1&s&&(n.ynx(0,17)(1,18),n.YNc(2,nt,1,0,"th",19),n.YNc(3,b,2,4,"td",20),n.BQk()())}function S(s,u){if(1&s&&(n.TgZ(0,"td",28)(1,"strong"),n._uU(2),n.qZA()()),2&s){const c=n.oxw(2);n.xp6(2),n.Oqu(c.footer)}}function Y(s,u){1&s&&(n.ynx(0,26),n.YNc(1,S,3,1,"td",27),n.BQk())}function f(s,u){1&s&&n._UZ(0,"tr",29)}function $(s,u){1&s&&n._UZ(0,"tr",30)}function v(s,u){1&s&&n._UZ(0,"tr",32)}const K=function(){return["disclaimer"]};function rt(s,u){1&s&&(n.ynx(0),n.YNc(1,v,1,0,"tr",31),n.BQk()),2&s&&(n.xp6(1),n.Q6J("matFooterRowDef",n.DdM(1,K)))}const X=function(s){return{"min-width":s}};class U{constructor(){this.columns=[],this.buttons=[],this.data=[],this.filter=!1,this.filterPlaceholder="Filter",this.footer=null,this.pagination=[],this.tableMinWidth=500,this.filteredData=new n.vpe,this.buttonClick=new n.vpe,this.publishChangeEvent=new n.vpe}ngOnChanges(u){this.data&&u.data&&(this.dataSource=new p.by(this.data),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.displayedColumns=[...this.columns.map(c=>c.columnDef)],this.buttons.length>0&&(this.displayedColumns=[...this.displayedColumns,"actions"]))}applyFilter(u){this.dataSource.filter=u.trim().toLowerCase(),this.filteredData.emit(this.dataSource.filteredData),this.dataSource.paginator&&this.dataSource.paginator.firstPage(),this.dataSource.sort=this.sort}}U.\u0275fac=function(u){return new(u||U)},U.\u0275cmp=n.Xpm({type:U,selectors:[["app-generic-table"]],viewQuery:function(u,c){if(1&u&&(n.Gf(m.NW,7),n.Gf(t.YE,7)),2&u){let g;n.iGM(g=n.CRH())&&(c.paginator=g.first),n.iGM(g=n.CRH())&&(c.sort=g.first)}},inputs:{columns:"columns",buttons:"buttons",data:"data",filter:"filter",filterPlaceholder:"filterPlaceholder",footer:"footer",pagination:"pagination",pageSize:"pageSize",tableMinWidth:"tableMinWidth"},outputs:{filteredData:"filteredData",buttonClick:"buttonClick",publishChangeEvent:"publishChangeEvent"},features:[n.TTD],decls:10,vars:15,consts:[[1,"container-fluid","p-3"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource","ngStyle"],[4,"ngFor","ngForOf"],["class","d-flex",4,"ngIf"],["matColumnDef","disclaimer",4,"ngIf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],[3,"pageSizeOptions","pageSize","ngStyle"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["color","primary",1,"example-margin",3,"checked","change"],["alt","baner","height","75px",3,"src"],[1,"d-flex"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","d-flex",3,"ngStyle",4,"matCellDef"],["mat-header-cell",""],["mat-cell","",1,"d-flex",3,"ngStyle"],["class","btn-group p-1",4,"ngFor","ngForOf"],[1,"btn-group","p-1"],["mat-icon-button","",3,"click"],["matColumnDef","disclaimer"],["mat-footer-cell","","colspan","100%",4,"matFooterCellDef"],["mat-footer-cell","","colspan","100%"],["mat-header-row",""],["mat-row",""],["mat-footer-row","","class","example-second-footer-row",4,"matFooterRowDef"],["mat-footer-row","",1,"example-second-footer-row"]],template:function(u,c){1&u&&(n.TgZ(0,"div",0)(1,"div",1)(2,"table",2),n.YNc(3,it,4,1,"ng-container",3),n.YNc(4,P,4,0,"ng-container",4),n.YNc(5,Y,2,0,"ng-container",5),n.YNc(6,f,1,0,"tr",6),n.YNc(7,$,1,0,"tr",7),n.YNc(8,rt,2,2,"ng-container",8),n.qZA(),n._UZ(9,"mat-paginator",9),n.qZA()()),2&u&&(n.xp6(2),n.Q6J("dataSource",c.dataSource)("ngStyle",n.VKq(11,X,+c.tableMinWidth+"px")),n.xp6(1),n.Q6J("ngForOf",c.columns),n.xp6(1),n.Q6J("ngIf",c.buttons.length>0),n.xp6(1),n.Q6J("ngIf",c.footer),n.xp6(1),n.Q6J("matHeaderRowDef",c.displayedColumns),n.xp6(1),n.Q6J("matRowDefColumns",c.displayedColumns),n.xp6(1),n.Q6J("ngIf",c.footer),n.xp6(1),n.Q6J("pageSizeOptions",c.pagination)("pageSize",c.pageSize)("ngStyle",n.VKq(13,X,+c.tableMinWidth+"px")))},dependencies:[T.sg,T.O5,T.PC,p.BZ,p.fO,p.as,p.w1,p.Dz,p.nj,p.mD,p.Ke,p.ge,p.ev,p.yh,p.XQ,p.Gk,p.Q2,m.NW,x.RK,A.Hw,I.Rr],styles:["table[_ngcontent-%COMP%], mat-paginator[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}mat-icon[_ngcontent-%COMP%]{font-size:18px}.table-buttons__field[_ngcontent-%COMP%]{min-width:200px}.mat-header-cell[_ngcontent-%COMP%]{background:#111827;color:#fff}img[_ngcontent-%COMP%]{object-fit:cover;text-align:center}"]})}}]);