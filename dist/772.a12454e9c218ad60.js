"use strict";(self.webpackChunkshoe=self.webpackChunkshoe||[]).push([[772],{772:(L,_,a)=>{a.r(_),a.d(_,{MarketingComponent:()=>d,MarketingModule:()=>p});var Z=a(6895),s=a(9132),e=a(4650),C=a(4614);class c{constructor(t){this.baseService=t}addCoupon(t){return this.baseService.post("coupons",t)}updateCoupon(t){return this.baseService.put("coupons",t)}getCoupons(){return this.baseService.get("coupons")}delete(t){return this.baseService.delete(`coupons/${t}`)}}c.\u0275fac=function(t){return new(t||c)(e.LFG(C.b))},c.\u0275prov=e.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"});var U=a(2184),T=a(7392),A=a(9101);const y=function(){return[5,25,100]};class b{constructor(t,i){this.router=t,this.couponService=i,this.introText="Button actions and payloads come here in textual form",this.totalVolume=0,this.totalRides=0,this.data=[],this.footer="",this.columns=[{columnDef:"id",header:"#",cell:o=>`${o.id?o.id:""}`},{columnDef:"created_date",header:"Created Date",cell:o=>`${o.created_date?o.created_date:""}`},{columnDef:"deleted_date",header:"Deleted Date",cell:o=>`${o.deleted_date?o.deleted_date:""}`}],this.buttons=[{styleClass:"px-2",icon:"edit",payload:o=>`${o.id?o.id:""}`,action:"edit"},{styleClass:"px-2",icon:"delete",payload:o=>`${o.id?o.id:""}`,action:"delete"}]}ngOnInit(){this.getCouponsData()}applyFilter(t){this.totalVolume=0,this.totalRides=0,this.footer=`Total volume: ${this.totalVolume}m\xb3 / trips: ${this.totalRides}`}buttonClick(t){"edit"===t[0]?this.router.navigate(["/admin/products/edit",t[1]]):"delete"===t[0]&&this.couponService.deleteById(t[1]).subscribe(()=>{this.getCouponsData()})}goToRoute(){this.router.navigate(["/admin/marketing/coupons"])}getCouponsData(){this.couponService.getCoupons().subscribe(t=>{this.data=[...t]})}onPubilshedChange(t){this.couponService.publishProduct({published:t[0].checked,id:t[1]}).subscribe(()=>{})}}b.\u0275fac=function(t){return new(t||b)(e.Y36(s.F0),e.Y36(c))},b.\u0275cmp=e.Xpm({type:b,selectors:[["app-coupon-list"]],decls:10,vars:10,consts:[[1,"d-flex","p-3","justify-content-between","align-items-center"],[1,"p-3"],[1,"d-flex","justify-content-end","p-3"],["mat-raised-button","","color","primary",1,"primary",3,"click"],[3,"columns","buttons","data","filter","filterPlaceholder","footer","pagination","pageSize","tableMinWidth","filteredData","buttonClick","publishChangeEvent"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1"),e._uU(3,"Coupon List"),e.qZA()(),e.TgZ(4,"div",2)(5,"button",3),e.NdJ("click",function(){return i.goToRoute()}),e.TgZ(6,"mat-icon"),e._uU(7,"add"),e.qZA(),e._uU(8,"Add Coupon "),e.qZA()()(),e.TgZ(9,"app-generic-table",4),e.NdJ("filteredData",function(r){return i.applyFilter(r)})("buttonClick",function(r){return i.buttonClick(r)})("publishChangeEvent",function(r){return i.onPubilshedChange(r)}),e.qZA()),2&t&&(e.xp6(9),e.Q6J("columns",i.columns)("buttons",i.buttons)("data",i.data)("filter",!0)("filterPlaceholder","Filter any value")("footer",i.footer)("pagination",e.DdM(9,y))("pageSize",5)("tableMinWidth",400))},dependencies:[U.p,T.Hw,A.lW]});var q=a(4006);class m{constructor(t){this.fb=t}ngOnInit(){}}m.\u0275fac=function(t){return new(t||m)(e.Y36(q.qu))},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-coupon-form"]],decls:82,vars:0,consts:[[1,"form-group"],[1,"heading"],[1,"row"],[1,"col-2"],[1,"col-4","align-items-center"],["for","couponcode"],[1,"col-6","align-items-center"],[1,"col-6"],["type","text","placeholder","Coupon Code","aria-label","Username","aria-describedby","basic-addon1",1,"form-control"],["for","banner"],["id","choose-file",1,"col-6"],["id","formFileSm","type","file",1,"form-control","form-control"],["for","minimumshopping"],["type","text","placeholder","Minimum Shopping","aria-label","Username","aria-describedby","basic-addon1",1,"form-control"],["for","discount"],["type","text","placeholder","Discount","aria-label","Username","aria-describedby","basic-addon1",1,"form-control"],["for","maxdiscount"],["type","text","placeholder","Maximum Discount Amount","aria-label","Username","aria-describedby","basic-addon1",1,"form-control"],["for","date"],["type","text","placeholder","Date","aria-label","Username","aria-describedby","basic-addon1",1,"form-control"],[1,"row","p-3"],[1,"col-12"],["type","button",1,"w-100","btn","btn-primary"]],template:function(t,i){1&t&&(e.TgZ(0,"form")(1,"div",0)(2,"h5",1),e._uU(3,"Add Your Cart Base Coupon"),e.qZA(),e._UZ(4,"br"),e.TgZ(5,"div",2),e._UZ(6,"div",3),e.TgZ(7,"div",4)(8,"label",5),e._uU(9,"Coupon Code"),e.qZA(),e._UZ(10,"br"),e.qZA(),e.TgZ(11,"div",6)(12,"div",2)(13,"div",7),e._UZ(14,"input",8)(15,"br"),e.qZA(),e._UZ(16,"div",7),e.qZA()()(),e.TgZ(17,"div",2),e._UZ(18,"div",3),e.TgZ(19,"div",4)(20,"label",9),e._uU(21,"Banner"),e.qZA(),e._UZ(22,"br"),e.qZA(),e.TgZ(23,"div",6)(24,"div",10),e._UZ(25,"input",11)(26,"br")(27,"br"),e.qZA(),e._UZ(28,"div",7),e.qZA()(),e.TgZ(29,"div",2),e._UZ(30,"div",3),e.TgZ(31,"div",4)(32,"label",12),e._uU(33,"Minimum Shopping"),e.qZA(),e._UZ(34,"br"),e.qZA(),e.TgZ(35,"div",6)(36,"div",2)(37,"div",7),e._UZ(38,"input",13)(39,"br"),e.qZA(),e._UZ(40,"div",7),e.qZA()(),e._UZ(41,"br"),e.qZA(),e.TgZ(42,"div",2),e._UZ(43,"div",3),e.TgZ(44,"div",4)(45,"label",14),e._uU(46,"Discount"),e.qZA(),e._UZ(47,"br"),e.qZA(),e.TgZ(48,"div",6)(49,"div",2)(50,"div",7),e._UZ(51,"input",15)(52,"br"),e.qZA(),e._UZ(53,"div",7),e.qZA()()(),e.TgZ(54,"div",2),e._UZ(55,"div",3),e.TgZ(56,"div",4)(57,"label",16),e._uU(58,"Maximum Discount Amount"),e.qZA(),e._UZ(59,"br"),e.qZA(),e.TgZ(60,"div",6)(61,"div",2)(62,"div",7),e._UZ(63,"input",17)(64,"br"),e.qZA(),e._UZ(65,"div",7),e.qZA()()(),e.TgZ(66,"div",2),e._UZ(67,"div",3),e.TgZ(68,"div",4)(69,"label",18),e._uU(70,"Date"),e.qZA(),e._UZ(71,"br"),e.qZA(),e.TgZ(72,"div",6)(73,"div",2)(74,"div",7),e._UZ(75,"input",19)(76,"br"),e.qZA(),e._UZ(77,"div",7),e.qZA()()(),e.TgZ(78,"div",20)(79,"div",21)(80,"button",22),e._uU(81,"Save"),e.qZA()()()()())},styles:[".heading[_ngcontent-%COMP%]{padding-left:14.8rem;font-weight:700}.align-items-center[_ngcontent-%COMP%]{font-size:large}#choose-file[_ngcontent-%COMP%]{width:47%}"]});class v{constructor(){}ngOnInit(){}}function k(n,t){1&n&&(e.TgZ(0,"div"),e._UZ(1,"app-coupon-form"),e.qZA())}function S(n,t){1&n&&(e.TgZ(0,"div"),e._UZ(1,"app-product-form"),e.qZA())}v.\u0275fac=function(t){return new(t||v)},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-product-form"]],decls:70,vars:0,consts:[[1,"form-group"],[1,"heading"],[1,"row"],[1,"col-2"],[1,"col-4","align-items-center"],["for","coupontype"],[1,"col-6","align-items-center"],[1,"col-6"],["type","text","placeholder","Coupon code","aria-label","Username","aria-describedby","basic-addon1",1,"form-control"],["for","banner"],["id","choose-file",1,"col-6"],["id","formFileSm","type","file",1,"form-control","form-control"],["for","minimumshopping"],["type","text","placeholder","Nothing Selected","aria-label","Username","aria-describedby","basic-addon1",1,"form-control"],["for","date"],["type","text","placeholder","Date","aria-label","Username","aria-describedby","basic-addon1",1,"form-control"],["for","discount"],["type","text","placeholder","Discount","aria-label","Username","aria-describedby","basic-addon1",1,"form-control"],[1,"row","p-3"],[1,"col-12"],["type","button",1,"w-100","btn","btn-primary"]],template:function(t,i){1&t&&(e.TgZ(0,"form")(1,"div",0)(2,"h5",1),e._uU(3,"Add Your Product Base Coupon"),e.qZA(),e._UZ(4,"br"),e.TgZ(5,"div",2),e._UZ(6,"div",3),e.TgZ(7,"div",4)(8,"label",5),e._uU(9,"Coupon code"),e.qZA(),e._UZ(10,"br"),e.qZA(),e.TgZ(11,"div",6)(12,"div",2)(13,"div",7),e._UZ(14,"input",8)(15,"br"),e.qZA(),e._UZ(16,"div",7),e.qZA()()(),e.TgZ(17,"div",2),e._UZ(18,"div",3),e.TgZ(19,"div",4)(20,"label",9),e._uU(21,"Banner"),e.qZA(),e._UZ(22,"br"),e.qZA(),e.TgZ(23,"div",6)(24,"div",10),e._UZ(25,"input",11)(26,"br")(27,"br"),e.qZA(),e._UZ(28,"div",7),e.qZA()(),e.TgZ(29,"div",2),e._UZ(30,"div",3),e.TgZ(31,"div",4)(32,"label",12),e._uU(33,"Product"),e.qZA(),e._UZ(34,"br"),e.qZA(),e.TgZ(35,"div",6)(36,"div",2)(37,"div",7),e._UZ(38,"input",13)(39,"br"),e.qZA(),e._UZ(40,"div",7),e.qZA()(),e._UZ(41,"br"),e.qZA(),e.TgZ(42,"div",2),e._UZ(43,"div",3),e.TgZ(44,"div",4)(45,"label",14),e._uU(46,"Date"),e.qZA(),e._UZ(47,"br"),e.qZA(),e.TgZ(48,"div",6)(49,"div",2)(50,"div",7),e._UZ(51,"input",15)(52,"br"),e.qZA(),e._UZ(53,"div",7),e.qZA()()(),e.TgZ(54,"div",2),e._UZ(55,"div",3),e.TgZ(56,"div",4)(57,"label",16),e._uU(58,"Discount"),e.qZA(),e._UZ(59,"br"),e.qZA(),e.TgZ(60,"div",6)(61,"div",2)(62,"div",7),e._UZ(63,"input",17)(64,"br"),e.qZA(),e._UZ(65,"div",7),e.qZA()()(),e.TgZ(66,"div",18)(67,"div",19)(68,"button",20),e._uU(69,"Save"),e.qZA()()()()())},styles:[".heading[_ngcontent-%COMP%]{padding-left:14.8rem;font-weight:700}.align-items-center[_ngcontent-%COMP%]{font-size:large}#choose-file[_ngcontent-%COMP%]{width:47%}"]});class g{constructor(){this.flagForCheckingTheCouponType="",this.showMe=!0}ngOnInit(){}event(t){this.flagForCheckingTheCouponType=t.target.value}}g.\u0275fac=function(t){return new(t||g)},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-coupons"]],decls:26,vars:2,consts:[[1,"heading"],[1,"form-group"],[1,"row"],[1,"col-2"],[1,"col-4","align-items-center"],["for","coupontype"],[1,"col-6"],["id","dropdown",1,"col-6"],[1,"form-select",3,"change"],["value","option"],["value","coupon"],["value","product"],[4,"ngIf"]],template:function(t,i){1&t&&(e._UZ(0,"br"),e.TgZ(1,"h5",0),e._uU(2,"Coupon Information Adding"),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"form")(5,"div",1)(6,"div",2),e._UZ(7,"div",3),e.TgZ(8,"div",4)(9,"label",5),e._uU(10,"Coupon Type"),e.qZA(),e._UZ(11,"br"),e.qZA(),e.TgZ(12,"div",6)(13,"div",7)(14,"select",8),e.NdJ("change",function(r){return i.event(r)}),e.TgZ(15,"option",9),e._uU(16,"Select"),e.qZA(),e.TgZ(17,"option",10),e._uU(18,"For Product"),e.qZA(),e.TgZ(19,"option",11),e._uU(20,"For Total Order"),e.qZA()()(),e._UZ(21,"div",6),e.qZA(),e._UZ(22,"br")(23,"br"),e.YNc(24,k,2,0,"div",12),e.YNc(25,S,2,0,"div",12),e.qZA()()()),2&t&&(e.xp6(24),e.Q6J("ngIf","coupon"===i.flagForCheckingTheCouponType),e.xp6(1),e.Q6J("ngIf","product"===i.flagForCheckingTheCouponType))},dependencies:[Z.O5,m,v],styles:["#dropdown[_ngcontent-%COMP%]{width:47%}.heading[_ngcontent-%COMP%]{padding-left:14.8rem;font-weight:700}.align-items-center[_ngcontent-%COMP%]{font-size:large}"]});var f=a(5754);function D(n,t){if(1&n&&(e.TgZ(0,"a",2,3),e._uU(2),e.qZA()),2&n){const i=t.$implicit,o=e.oxw();e.Q6J("routerLink",i.link)("active",o.activeLinkIndex===i.index),e.xp6(2),e.hij(" ",i.label,"")}}class d{constructor(t,i){this.router=t,this.activatedroute=i,this.navLinks=[],this.activeLinkIndex=-1,this.navLinks=[{label:"Coupon",link:"./coupons",index:0}],this.activatedroute.url.subscribe(o=>{const r=this.navLinks.find(x=>`/admin/coupons${x.link.split(".")[1]}`===this.router.url);r&&(this.activeLinkIndex=this.navLinks.indexOf(r))})}ngOnInit(){this.router.events.subscribe(t=>{if(t){const i=this.navLinks.find(o=>`/admin/coupon\n            \n            s${o.link.split(".")[1]}`===this.router.url);this.activeLinkIndex=i?this.navLinks.indexOf(i):0}})}}d.\u0275fac=function(t){return new(t||d)(e.Y36(s.F0),e.Y36(s.gz))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-marketing"]],decls:4,vars:1,consts:[["mat-tab-nav-bar",""],["mat-tab-link","","routerLinkActive","",3,"routerLink","active",4,"ngFor","ngForOf"],["mat-tab-link","","routerLinkActive","",3,"routerLink","active"],["rla","routerLinkActive"]],template:function(t,i){1&t&&(e.TgZ(0,"div")(1,"nav",0),e.YNc(2,D,3,3,"a",1),e.qZA()(),e._UZ(3,"router-outlet")),2&t&&(e.xp6(2),e.Q6J("ngForOf",i.navLinks))},dependencies:[Z.sg,s.lC,s.rH,s.Od,f.vP,f.JV]});class l{constructor(t){this.baseService=t}addSubscribers(t){return this.baseService.post("subscriber",t)}updateSubscribers(t){return this.baseService.put("subscriber",t)}get(){return this.baseService.get("subscriber")}getActiveSubscribers(){return this.baseService.get("coupon/active")}delete(t){return this.baseService.delete(`coupon/${t}`)}}l.\u0275fac=function(t){return new(t||l)(e.LFG(C.b))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"});const F=function(){return[5,25,100]};class h{constructor(t,i){this.router=t,this.subscriberService=i,this.introText="Button actions and payloads come here in textual form",this.totalVolume=0,this.totalRides=0,this.data=[],this.footer="",this.columns=[{columnDef:"id",header:"#",cell:o=>`${o.id?o.id:""}`},{columnDef:"email",header:"Email",cell:o=>`${o.email?o.email:""}`},{columnDef:"created_date",header:"Date",cell:o=>`${o.created_date?o.created_date:""}`}],this.buttons=[{styleClass:"px-2",icon:"edit",payload:o=>`${o.id?o.id:""}`,action:"edit"},{styleClass:"px-2",icon:"delete",payload:o=>`${o.id?o.id:""}`,action:"delete"}]}ngOnInit(){this.getProductsData()}applyFilter(t){this.totalVolume=0,this.totalRides=0,this.footer=`Total volume: ${this.totalVolume}m\xb3 / trips: ${this.totalRides}`}buttonClick(t){"edit"===t[0]?this.router.navigate(["/admin/products/edit",t[1]]):"delete"===t[0]&&this.subscriberService.deleteById(t[1]).subscribe(()=>{this.getProductsData()})}getProductsData(){this.subscriberService.getProducts().subscribe(t=>{this.data=t})}onPubilshedChange(t){this.subscriberService.publishProduct({published:t[0].checked,id:t[1]}).subscribe(()=>{})}}h.\u0275fac=function(t){return new(t||h)(e.Y36(s.F0),e.Y36(l))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-subscribers"]],decls:5,vars:10,consts:[[1,"d-flex","p-3","justify-content-between","align-items-center"],[1,"p-3"],[3,"columns","buttons","data","filter","filterPlaceholder","footer","pagination","pageSize","tableMinWidth","filteredData","buttonClick","publishChangeEvent"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1"),e._uU(3,"All Subscribers"),e.qZA()()(),e.TgZ(4,"app-generic-table",2),e.NdJ("filteredData",function(r){return i.applyFilter(r)})("buttonClick",function(r){return i.buttonClick(r)})("publishChangeEvent",function(r){return i.onPubilshedChange(r)}),e.qZA()),2&t&&(e.xp6(4),e.Q6J("columns",i.columns)("buttons",i.buttons)("data",i.data)("filter",!0)("filterPlaceholder","Filter any value")("footer",i.footer)("pagination",e.DdM(9,F))("pageSize",5)("tableMinWidth",400))},dependencies:[U.p]});const M=[{path:"",component:d,children:[{path:"",redirectTo:"coupon-list",pathMatch:"full"},{path:"coupons",component:g},{path:"coupon-list",component:b},{path:"subscribers",component:h}]}];class u{}u.\u0275fac=function(t){return new(t||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[s.Bz.forChild(M),s.Bz]});var P=a(6329);class p{}p.\u0275fac=function(t){return new(t||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({imports:[Z.ez,u,P.m,T.Ps,A.ot,f.Nn]})}}]);